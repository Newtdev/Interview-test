"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[2249],{6484:function(e,n,t){var r=t(92059);n.Z=function(){return(0,r.C)((function(e){return e.global.usersList}))}},62003:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(74165),a=t(1413),i=t(15861),o=t(93433),l=t(29439),c=t(47313),s=t(44758),d=t(81676),u=t(97763),m=t(58467),f=t(46417);var h=function(e){var n,t=e.getSuggestionValue,r=e.userList,a=(e.addedUserList,(0,c.useState)("")),i=(0,l.Z)(a,2),o=i[0],h=i[1],v=(0,m.s0)(),p=(0,c.useState)(r),x=(0,l.Z)(p,1)[0],b=(0,c.useMemo)((function(){return null===x||void 0===x?void 0:x.filter((function(e){var n;return null===e||void 0===e||null===(n=e.email)||void 0===n?void 0:n.includes(o)}))}),[x,o]);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)("input",{className:"w-full h-full p-4 text-sm border rounded-lg outline-none border-gray-dark bg-inherit placeholder:text-sm",type:"text",placeholder:"Search",value:o,onChange:function(e){return h(e.target.value)}})}),(0,f.jsx)("article",{className:"flex flex-col w-full mb-10 h-4/5 bg-primary-light/10",children:(null===x||void 0===x?void 0:x.length)>=1?(0,f.jsx)("ul",{className:"mt-3 border border-gray-500 rounded-lg",children:null===b||void 0===b||null===(n=b.slice(0,8))||void 0===n?void 0:n.map((function(e,n){return(0,f.jsx)("li",{className:"flex items-center justify-between py-2 pr-3 border-b-2",children:(0,f.jsxs)("label",{htmlFor:"check-".concat(n+1),className:"flex items-center gap-2 ",children:[(0,f.jsx)(s.Z,{id:"check-".concat(n+1),onChange:function(){return t(e)}}),(0,f.jsx)("h4",{children:null===e||void 0===e?void 0:e.email})]})})}))}):(0,f.jsxs)("div",{className:"flex flex-col items-center justify-center w-full py-4 gap-y-4",children:[(0,f.jsx)("span",{className:"font-semibold text-secondary-dark",children:"Add Users to your workspace"}),(0,f.jsx)(u.Z,{name:"Settings",onClick:function(){return v(d.s2.DASHBOARD_SETTINGS)}})]})})]})},v=t(31271),p=t(40628),x=t(40086),b=t(79429),g=t(36059),Z=t(79147),k=t(6484),j=function(e){var n=e.workspaceData,t=e.handleDrawer,s=(0,v.Z)(),d=s.isLoadingModal,u=s.toggleLoadingModal,m=(0,c.useState)([]),j=(0,l.Z)(m,2),y=j[0],w=j[1],N=(0,k.Z)(),S=(0,c.useMemo)((function(){return N.reduce((function(e,n){var t,r;return[].concat((0,o.Z)(e),[{first_name:null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.first_name,last_name:null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.last_name,email:null===n||void 0===n?void 0:n.user.email,id:null===n||void 0===n?void 0:n.user._id}])}),[])}),[N]),C=Z.x.useAddWorkspaceUserMutation(),E=(0,l.Z)(C,1)[0],P=(0,p.Z)().organization,z=(0,x.Z)(),M=(0,b.TA)({initialValues:{user_role:"MEMBER"},onSubmit:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,o=y.map((function(e){return e.id})),e.next=5,E((0,a.Z)((0,a.Z)({},i),{},{organization:(null===P||void 0===P?void 0:P.id)||(null===z||void 0===z?void 0:z.id),users:o,workspace:null===n||void 0===n?void 0:n.id})).unwrap();case 5:g.ZP.success("User Added successfully to this workspace"),w([]),t(),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),w([]),u(!1),w((function(){return[]})),g.ZP.error(null===e.t0||void 0===e.t0||null===(l=e.t0.data)||void 0===l?void 0:l.message);case 16:u(!1);case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()});return(0,f.jsxs)("form",{className:"h-[82vh] p-4 flex flex-col justify-between",onSubmit:M.handleSubmit,children:[(0,f.jsx)("section",{children:(0,f.jsx)(h,{getSuggestionValue:function(e){w((function(n){return[].concat((0,o.Z)(n),[e])}))},userList:S})}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,f.jsx)("button",{type:"button",onClick:t,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,f.jsx)("button",{disabled:!y||d,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})}},58387:function(e,n,t){var r=t(46417);n.Z=function(e){var n=e.name;return(0,r.jsx)("div",{className:"w-full py-4",children:(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-base font-semibold sm:text-lg md:text-xl lg:text-2xl",children:n})})})}},92580:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(47313),a=t(58467),i=t(46417);function o(e){var n=e.tab,t=e.onClick,o=e.type,l=void 0===o?null:o,c=(0,a.TH)(),s=(0,a.s0)(),d=(0,r.useCallback)((function(e){return c.pathname.includes(e)}),[c]);return(0,i.jsx)("div",{className:"w-full lg:min-w-56 lg:py-8  mb-6 lg:mb-0 bg-white lg:shadow rounded-2xl",children:(0,i.jsx)("ul",{className:"w-full h-full cursor-pointer flex justify-between items-center  lg:block ",children:n.map((function(e){return(0,i.jsx)("li",{onClick:function(n){return l?t(n,e):function(e,n){e.preventDefault(),s(n.value),d(n.value)}(n,e)},className:"".concat(d(e.value)?"bg-[#E5E7F4] text-primary font-bold":"bg-white"," w-full py-4 px-4 bg-[#E5E7F4] text-sm md:text-base"),children:e.name},e.id)}))})})}},72249:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(29439),a=t(47313),i=t(44922),o=t(58467),l=t(81676),c=t(79147),s=t(58387),d=t(97763),u=t(96215),m=t(62003),f=t(92580),h=t(37248),v=t(5166),p=t(46417),x=[{id:1,name:"User Management",value:l.s2.WORKSPACE_USER_MANAGEMENT},{id:2,name:"Workspace Information",value:l.s2.WORKSPACE_INFO_MANAGEMENT}];function b(){var e,n,t=(0,a.useState)(!1),l=(0,r.Z)(t,2),h=l[0],b=l[1],Z=(0,a.useState)({}),k=(0,r.Z)(Z,2),j=(k[0],k[1]),y=((0,o.s0)(),(0,o.V$)(g)),w=(0,o.TH)(),N=((0,a.useCallback)((function(e){return w.pathname.includes(e)}),[w]),(0,i.Z)().workspace),S=c.x.useSingleWorkspaceQuery({id:null===N||void 0===N?void 0:N.id},{skip:!(null!==N&&void 0!==N&&N.id)});function C(e){j((function(){return e||{}})),b((function(e){return!e}))}return(0,p.jsx)("section",{children:(0,p.jsxs)("article",{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(s.Z,{name:null===S||void 0===S||null===(e=S.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.name}),(0,p.jsx)("div",{className:"w-fit",children:(0,p.jsx)(d.Z,{name:"Add User",onClick:C})})]}),(0,p.jsxs)("div",{className:"flex flex-col mt-6 lg:flex-row lg:justify-between",children:[(0,p.jsx)("div",{className:"basis-[20%]",children:(0,p.jsx)(f.Z,{tab:x})}),(0,p.jsx)("div",{className:"basis-[80%]",children:(0,p.jsx)(v.Z,{children:y})})]}),(0,p.jsx)(u.Z,{open:h,handleToggleDrawer:C,name:"Add Workspace Users",children:(0,p.jsx)(m.Z,{workspaceData:N,handleDrawer:C})})]})})}var g=(0,h.W)([{path:"*",element:(0,a.lazy)((function(){return t.e(2840).then(t.bind(t,82840))}))},{path:"/",element:(0,p.jsx)(o.Fg,{to:l.s2.WORKSPACE_USER_MANAGEMENT})},{path:l.s2.WORKSPACE_USER_MANAGEMENT,element:(0,a.lazy)((function(){return Promise.all([t.e(4697),t.e(2327),t.e(3258)]).then(t.bind(t,79455))}))},{path:l.s2.WORKSPACE_INFO_MANAGEMENT,element:(0,a.lazy)((function(){return t.e(5751).then(t.bind(t,75751))}))}],{excludePathPrifix:!0,pathPrifix:"/dashboard/workspaces/management"})},44758:function(e,n,t){t.d(n,{Z:function(){return E}});var r=t(4942),a=t(63366),i=t(87462),o=t(47313),l=t(94146),c=t(8007),s=t(88552),d=t(97423),u=t(81171),m=t(46417),f=(0,u.Z)((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=(0,u.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=(0,u.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=t(91615),x=t(77342),b=t(17592),g=t(14363),Z=t(1167);function k(e){return(0,Z.ZP)("MuiCheckbox",e)}var j=(0,g.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],w=(0,b.ZP)(d.Z,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,n["size".concat((0,p.Z)(t.size))],"default"!==t.color&&n["color".concat((0,p.Z)(t.color))]]}})((function(e){var n,t=e.theme,a=e.ownerState;return(0,i.Z)({color:(t.vars||t).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===a.color?t.vars.palette.action.activeChannel:t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.Fq)("default"===a.color?t.palette.action.active:t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(n={},(0,r.Z)(n,"&.".concat(j.checked,", &.").concat(j.indeterminate),{color:(t.vars||t).palette[a.color].main}),(0,r.Z)(n,"&.".concat(j.disabled),{color:(t.vars||t).palette.action.disabled}),n))})),N=(0,m.jsx)(h,{}),S=(0,m.jsx)(f,{}),C=(0,m.jsx)(v,{}),E=o.forwardRef((function(e,n){var t,r,s=(0,x.Z)({props:e,name:"MuiCheckbox"}),d=s.checkedIcon,u=void 0===d?N:d,f=s.color,h=void 0===f?"primary":f,v=s.icon,b=void 0===v?S:v,g=s.indeterminate,Z=void 0!==g&&g,j=s.indeterminateIcon,E=void 0===j?C:j,P=s.inputProps,z=s.size,M=void 0===z?"medium":z,R=s.className,A=(0,a.Z)(s,y),F=Z?E:b,I=Z?E:u,_=(0,i.Z)({},s,{color:h,indeterminate:Z,size:M}),O=function(e){var n=e.classes,t=e.indeterminate,r=e.color,a=e.size,o={root:["root",t&&"indeterminate","color".concat((0,p.Z)(r)),"size".concat((0,p.Z)(a))]},l=(0,c.Z)(o,k,n);return(0,i.Z)({},n,l)}(_);return(0,m.jsx)(w,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":Z},P),icon:o.cloneElement(F,{fontSize:null!=(t=F.props.fontSize)?t:M}),checkedIcon:o.cloneElement(I,{fontSize:null!=(r=I.props.fontSize)?r:M}),ownerState:_,ref:n,className:(0,l.Z)(O.root,R)},A,{classes:O}))}))},97423:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(29439),a=t(63366),i=t(87462),o=t(47313),l=t(94146),c=t(8007),s=t(91615),d=t(17592),u=t(53800),m=t(99008),f=t(67999),h=t(14363),v=t(1167);function p(e){return(0,v.ZP)("PrivateSwitchBase",e)}(0,h.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var x=t(46417),b=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],g=(0,d.ZP)(f.Z)((function(e){var n=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),Z=(0,d.ZP)("input",{shouldForwardProp:d.FO})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),k=o.forwardRef((function(e,n){var t=e.autoFocus,o=e.checked,d=e.checkedIcon,f=e.className,h=e.defaultChecked,v=e.disabled,k=e.disableFocusRipple,j=void 0!==k&&k,y=e.edge,w=void 0!==y&&y,N=e.icon,S=e.id,C=e.inputProps,E=e.inputRef,P=e.name,z=e.onBlur,M=e.onChange,R=e.onFocus,A=e.readOnly,F=e.required,I=void 0!==F&&F,_=e.tabIndex,O=e.type,B=e.value,T=(0,a.Z)(e,b),U=(0,u.Z)({controlled:o,default:Boolean(h),name:"SwitchBase",state:"checked"}),W=(0,r.Z)(U,2),L=W[0],D=W[1],H=(0,m.Z)(),V=v;H&&"undefined"===typeof V&&(V=H.disabled);var G="checkbox"===O||"radio"===O,K=(0,i.Z)({},e,{checked:L,disabled:V,disableFocusRipple:j,edge:w}),q=function(e){var n=e.classes,t=e.checked,r=e.disabled,a=e.edge,i={root:["root",t&&"checked",r&&"disabled",a&&"edge".concat((0,s.Z)(a))],input:["input"]};return(0,c.Z)(i,p,n)}(K);return(0,x.jsxs)(g,(0,i.Z)({component:"span",className:(0,l.Z)(q.root,f),centerRipple:!0,focusRipple:!j,disabled:V,tabIndex:null,role:void 0,onFocus:function(e){R&&R(e),H&&H.onFocus&&H.onFocus(e)},onBlur:function(e){z&&z(e),H&&H.onBlur&&H.onBlur(e)},ownerState:K,ref:n},T,{children:[(0,x.jsx)(Z,(0,i.Z)({autoFocus:t,checked:o,defaultChecked:h,className:q.input,disabled:V,id:G?S:void 0,name:P,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var n=e.target.checked;D(n),M&&M(e,n)}},readOnly:A,ref:E,required:I,ownerState:K,tabIndex:_,type:O},"checkbox"===O&&void 0===B?{}:{value:B},C)),L?d:N]}))}))}}]);