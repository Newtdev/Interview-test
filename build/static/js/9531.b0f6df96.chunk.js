"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[9531],{79531:function(e,a,i){i.r(a);var l=i(74165),n=i(1413),s=i(15861),t=i(29439),r=i(47313),o=i(57864),u=i(27356),d=i(57406),c=i(21933),m=i(79429),h=i(40086),p=i(31271),x=i(36059),f=i(81676),v=i(5069),b=i(46417);a.default=function(){var e,a,i=(0,h.Z)(),j=i.user,g=i.organizations,Z=(0,r.useMemo)((function(){return g.find((function(e){return e.role===f.xI.OWNER}))}),[g]),w=v.M.useUpdateOrganizationDetailsMutation(),N=(0,t.Z)(w,1)[0],y=(0,p.Z)().toggleLoadingModal,_=(0,m.TA)({initialValues:{name:null===Z||void 0===Z||null===(e=Z.organization)||void 0===e?void 0:e.name,phone_number:null===Z||void 0===Z||null===(a=Z.organization)||void 0===a?void 0:a.phone_number,email:null===Z||void 0===Z?void 0:Z.organization.email},validationSchema:c.Ry().shape({name:c.Z_().label("Name").required(),email:c.Z_().email().label("Email").required(),phone_number:c.Z_().label("Phone Number").optional()}),onSubmit:function(){var e=(0,s.Z)((0,l.Z)().mark((function e(a){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,N((0,n.Z)((0,n.Z)({},a),{},{id:Z.organization._id})).unwrap();case 4:x.ZP.success("Account details updated successful"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),y(!1),x.ZP.error(null===e.t0||void 0===e.t0||null===(i=e.t0.data)||void 0===i?void 0:i.message);case 11:y(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}()});return(0,b.jsxs)("section",{className:"flex flex-col w-full h-fit ",children:[(0,b.jsx)("div",{className:"flex justify-end w-full py-6 mb-2 bg-white"}),(0,b.jsx)("div",{className:"w-full p-6 bg-white shadow-md rounded-2xl",children:(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)("h3",{className:"text-base font-semibold",children:"Organization Details"}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)("div",{className:"lg:basis-[15%] ",children:(0,b.jsx)("div",{className:"flex items-center justify-center w-20 h-20 mt-8 rounded-full ",children:null!==j&&void 0!==j&&j.profile_picture?(0,b.jsx)("img",{src:null===j||void 0===j?void 0:j.profile_picture,alt:"pic",className:"object-cover w-16 h-16 rounded-full"}):(0,b.jsx)(o.nf1,{className:"w-16 h-16"})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsxs)("form",{onSubmit:_.handleSubmit,children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 ",children:[(0,b.jsx)(u.Z,(0,n.Z)({type:"text",placeholder:"name"},(0,d.PW)(_,"name"))),(0,b.jsx)(u.Z,(0,n.Z)({type:"email",placeholder:"Enter your email"},(0,d.PW)(_,"email"))),(0,b.jsx)(u.Z,(0,n.Z)({type:"text",placeholder:"Enter your phone number"},(0,d.PW)(_,"phone_number")))]}),(0,b.jsx)("button",{disabled:!_.isValid,type:"submit",className:"flex items-center justify-center w-1/2 p-3 mx-auto my-3 mt-10 text-sm text-white ease-linear delay-100 rounded-md bg-primary hover:bg-blue-800",children:"Update"})]})})]})]})})]})}}}]);