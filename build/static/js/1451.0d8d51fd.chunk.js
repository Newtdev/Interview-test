"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[1451],{54982:function(e,l,i){i.d(l,{e:function(){return t},z:function(){return n}});var n={high:"#FF0F00",low:"#4FB664",medium:"#F8931F",active:"#4FB664"},t={high:"#FFE3E6",low:"#ECF7EE",medium:"#FFF7ED",active:"#ECF7EE"}},58387:function(e,l,i){var n=i(46417);l.Z=function(e){var l=e.name;return(0,n.jsx)("div",{className:"w-full py-4",children:(0,n.jsx)("div",{children:(0,n.jsx)("h2",{className:"text-base font-semibold sm:text-lg md:text-xl lg:text-2xl",children:l})})})}},73433:function(e,l,i){i.d(l,{Z:function(){return t}});i(47313);var n=i(46417);function t(e){var l=e.name,i=e.onClick;return(0,n.jsx)("button",{type:"button",onClick:i,className:" py-2 px-4 lg:py-3 text-xs md:text-sm lg:text-base font-bold ease-linear delay-100 bg-white border rounded-md border-primary-dark text-primary-dark lg:min-w-48 lg:max-w-fit hover:bg-blue-800 hover:text-white",children:l})}},16922:function(e,l,i){i.d(l,{Z:function(){return M}});var n=i(74165),t=i(1413),a=i(15861),r=i(29439),d=i(47313),o=i(79429),s=i(97931),u=i(27356),c=i(57406),v=i(21933),x=i(8094),m=i(1550),p=i(54299),h=i(52866),g=i(74268),f=i(31271),j=i(36059),b=i(96215),y=i(89907),N=i(48475),Z=i(82101),w=i(40086),_=i(61171),E=i(81676),C=i(35925),D=i(46417);function M(e){var l,i,M,A,S,k,P,R=e.show,T=e.handleToggleGoal,F=e.itemData,G=e.meeting,U=e.hidButtons,I=void 0!==U&&U,z=e.header,O=void 0===z?"Update Action item":z,L=(0,w.Z)().user,q=(0,f.Z)().toggleLoadingModal,J=y.z.useUpdateActionItemMutation(),V=(0,r.Z)(J,1)[0],W=_.W.useUserMeetingsQuery({}),Y=(0,d.useMemo)((function(){var e;return null===W||void 0===W||null===(e=W.data)||void 0===e?void 0:e.data}),[W]),$=(0,o.TA)({initialValues:{title:null===F||void 0===F?void 0:F.title,details:null===F||void 0===F?void 0:F.details,priority:null===F||void 0===F?void 0:F.priority,due_date:new Date(null===F||void 0===F?void 0:F.due_date),assignee:(null===F||void 0===F||null===(l=F.assignee)||void 0===l?void 0:l._id)||"",status:(null===F||void 0===F?void 0:F.status)||"",meeting:(null===F||void 0===F||null===(i=F.meeting)||void 0===i?void 0:i._id)||""},validateOnChange:!0,validateOnBlur:!0,validationSchema:v.Ry().shape({title:v.Z_().label("Title").required(),details:v.Z_().label("Details").optional(),assignee:v.Z_().label("Assignee").required(),meeting:v.Z_().label("Meeting").required(),due_date:v.Z_().label("Action Item due date").required(),priority:v.Z_().label("Priority").oneOf(E.xi.map((function(e){return e.value}))).required()}),onSubmit:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(l){var i,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,V((0,t.Z)((0,t.Z)({},l),{},{id:null===F||void 0===F?void 0:F.id})).unwrap();case 4:a=e.sent,T(),j.ZP.success((null===a||void 0===a?void 0:a.message)||"Action Ietm Updated Successfully"),(0,N.T)({channel:Z.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:E.G9.ACTION_ITEM,user_id:null===L||void 0===L?void 0:L.id,room_name:(null===F||void 0===F||null===(i=F.meeting)||void 0===i?void 0:i._id)||(null===G||void 0===G?void 0:G.id)}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),q(!1),j.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:q(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(l){return e.apply(this,arguments)}}()}),B=_.W.useMeetingParticipantsQuery({meeting:null===F||void 0===F||null===(M=F.meeting)||void 0===M?void 0:M._id},{skip:!(null!==F&&void 0!==F&&null!==(A=F.meeting)&&void 0!==A&&A._id)}),Q=(0,d.useMemo)((function(){var e;return(null===B||void 0===B||null===(e=B.data)||void 0===e?void 0:e.data)||[]}),[B]);return(0,D.jsx)("section",{children:(0,D.jsx)("article",{children:(0,D.jsx)(b.Z,{open:R,name:O,handleToggleDrawer:T,children:(0,D.jsx)("div",{className:"px-4",children:(0,D.jsxs)("form",{onSubmit:$.handleSubmit,children:[(0,D.jsx)("div",{children:(0,D.jsx)(u.Z,(0,t.Z)({type:"text",placeholder:"Enter title"},(0,c.PW)($,"title")))}),(0,D.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,D.jsx)(s.ML,{handleChange:function(e){return $.setFieldValue("details",e.replace(/<[^>]*>/g,""))},value:$.values.details,className:"w-full h-40",placeholder:"Action Item details...."})}),(0,D.jsxs)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:[(0,D.jsx)(C.Z,{loading:null===W||void 0===W?void 0:W.isLoading,error:null===W||void 0===W?void 0:W.isError,onReload:W.refetch,children:function(){var e,l;return(0,D.jsxs)("div",{className:"relative ",children:[(0,D.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,D.jsx)("select",(0,t.Z)((0,t.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=$.values)||void 0===e?void 0:e.meeting},(0,c.PW)($,"meeting")),{},{children:null===Y||void 0===Y?void 0:Y.map((function(e){return(0,D.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==$&&void 0!==$&&null!==(l=$.errors)&&void 0!==l&&l.meeting?(0,D.jsx)("span",{className:"text-[10px] text-error",children:$.errors.meeting}):null]})}}),(0,D.jsxs)("div",{className:"relative",children:[(0,D.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Assignee"}),(0,D.jsx)("select",(0,t.Z)((0,t.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Assignee",value:null===(S=$.values)||void 0===S?void 0:S.assignee},(0,c.PW)($,"assignee")),{},{children:Q.map((function(e){var l,i;return(0,D.jsx)("option",{value:null===(l=e.participant)||void 0===l?void 0:l._id,children:null===(i=e.participant)||void 0===i?void 0:i.email},null===e||void 0===e?void 0:e._id)}))})),null!==$&&void 0!==$&&null!==(k=$.errors)&&void 0!==k&&k.assignee?(0,D.jsx)("span",{className:"text-[10px] text-error",children:$.errors.assignee}):null]})]}),(0,D.jsx)("div",{className:"grid grid-cols-2 gap-4 py-4 mt-1 ",children:(0,D.jsx)(x.Z,{selected:$.values.due_date,placeholder:"Due date",onSelect:function(e){return $.setFieldValue("due_date",e)}})}),(0,D.jsx)("div",{children:(0,D.jsxs)(m.Z,{className:"w-full my-2",children:[(0,D.jsx)("label",{children:"Priority"}),(0,D.jsx)(p.Z,(0,t.Z)((0,t.Z)({row:!0,"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"1",name:"radio-buttons-group"},(0,c.PW)($,"priority")),{},{className:"flex flex-row w-full mt-1 text-black gap-x-4",children:E.xi.map((function(e){return(0,D.jsx)(h.Z,{value:e.value,control:(0,D.jsx)(g.Z,{}),label:e.name},e.id)}))}))]})}),(0,D.jsx)("div",{className:"flex flex-col my-2 ",children:(0,D.jsx)("div",{children:(0,D.jsxs)(m.Z,{className:"w-full my-2",children:[(0,D.jsx)("label",{children:"Status"}),(0,D.jsxs)("select",(0,t.Z)((0,t.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(P=$.values)||void 0===P?void 0:P.meeting},(0,c.PW)($,"status")),{},{children:[(0,D.jsx)("option",{value:"",children:"Select status"}),null===E.Qy||void 0===E.Qy?void 0:E.Qy.map((function(e){return(0,D.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))]}))]})})}),I?(0,D.jsx)("button",{type:"button",onClick:T,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Close"}):(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,D.jsx)("button",{type:"button",onClick:T,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,D.jsx)("button",{disabled:!$.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},38707:function(e,l,i){i.d(l,{Z:function(){return S}});var n=i(93433),t=i(74165),a=i(1413),r=i(15861),d=i(29439),o=i(47313),s=i(79429),u=i(97931),c=i(27356),v=i(57406),x=i(21933),m=i(8094),p=i(44758),h=i(47131),g=i(44922),f=i(81676),j=i(57864),b=i(31271),y=i(36059),N=i(40628),Z=i(3379),w=i(96215),_=i(82101),E=i(48475),C=i(40086),D=i(61171),M=i(35925),A=i(46417);function S(e){var l,i,S,k,P,R,T,F,G,U,I,z,O,L=e.show,q=e.handleToggleGoal,J=e.itemData,V=(0,g.Z)().workspace,W=(0,C.Z)().user,Y=(0,N.Z)().organization.organization,$=(0,b.Z)().toggleLoadingModal,B=Z.j.useUpdateGoalMutation(),Q=(0,d.Z)(B,1)[0],K=(0,s.TA)({initialValues:{title:null===J||void 0===J?void 0:J.title,details:null===J||void 0===J?void 0:J.details,due_date:new Date(null===J||void 0===J?void 0:J.due_date),start_date:new Date(null===J||void 0===J?void 0:J.start_date),assignee:(null===J||void 0===J||null===(l=J.assignee)||void 0===l?void 0:l._id)||"",goal_type:null===J||void 0===J?void 0:J.goal_type,status:(null===J||void 0===J?void 0:J.status)||"PENDING",milestones:null===J||void 0===J?void 0:J.milestones,meeting:null===J||void 0===J||null===(i=J.meeting)||void 0===i?void 0:i._id},validateOnChange:!0,validateOnBlur:!0,validationSchema:x.Ry().shape({title:x.Z_().label("Goal title").required(),details:x.Z_().label("Goal details").optional(),assignee:x.Z_().label("Assignee").required("Select Assignee"),due_date:x.Z_().label("Due date").required(),goal_type:x.Z_().label("Goal Type").required(),status:x.Z_().label("Goal status").required(),milestones:x.IX().of(x.Ry().shape({name:x.Z_().required(),due_date:x.hT().transform((function(e){return new Date(e)})),is_completed:x.O7().optional()})).optional().min(1,"At least one milestone")}),onSubmit:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(l){var i,n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.prev=1,e.next=4,Q((0,a.Z)((0,a.Z)({},l),{},{id:null===J||void 0===J?void 0:J.id,organization:null===Y||void 0===Y?void 0:Y._id,workspace:null===V||void 0===V?void 0:V.id})).unwrap();case 4:n=e.sent,q(),y.ZP.success(null===n||void 0===n?void 0:n.message),(0,E.T)({channel:_.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:f.G9.GOAL,user_id:null===W||void 0===W?void 0:W.id,room_name:null===J||void 0===J||null===(i=J.meeting)||void 0===i?void 0:i._id}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),$(!1),y.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:$(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(l){return e.apply(this,arguments)}}()}),H=D.W.useUserMeetingsQuery({}),X=(0,o.useMemo)((function(){var e;return null===H||void 0===H||null===(e=H.data)||void 0===e?void 0:e.data}),[H]);return(0,A.jsx)("section",{children:(0,A.jsx)("article",{children:(0,A.jsx)(w.Z,{open:L,name:(null===J||void 0===J?void 0:J.title)||"Update Goal",handleToggleDrawer:q,children:(0,A.jsx)("div",{className:"px-4",children:(0,A.jsxs)("form",{onSubmit:K.handleSubmit,children:[(0,A.jsx)("div",{children:(0,A.jsx)(c.Z,(0,a.Z)({type:"text",placeholder:"Enter title"},(0,v.PW)(K,"title")))}),(0,A.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,A.jsx)(u.ML,{value:null===(S=K.values)||void 0===S?void 0:S.details,handleChange:function(e){return K.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal description...."})}),(0,A.jsxs)("div",{className:"grid w-full grid-cols-2 gap-4 py-4",children:[(0,A.jsx)(m.Z,{selected:K.values.start_date,placeholder:"Goal Start date",onSelect:function(e){return K.setFieldValue("start_date",e)},error:K.errors.start_date}),(0,A.jsx)(m.Z,{selected:K.values.due_date,placeholder:"Goal Due date",onSelect:function(e){return K.setFieldValue("due_date",e)},error:K.errors.due_date})]}),(0,A.jsxs)("div",{className:"grid content-center grid-cols-2 my-4 gap-x-4",children:[(0,A.jsx)(M.Z,{loading:null===H||void 0===H?void 0:H.isLoading,error:null===H||void 0===H?void 0:H.isError,onReload:H.refetch,children:function(){var e,l;return(0,A.jsxs)("div",{className:"relative ",children:[(0,A.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,A.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=K.values)||void 0===e?void 0:e.meeting},(0,v.PW)(K,"meeting")),{},{children:null===X||void 0===X?void 0:X.map((function(e){return(0,A.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==K&&void 0!==K&&null!==(l=K.errors)&&void 0!==l&&l.meeting?(0,A.jsx)("span",{className:"text-[10px] text-error",children:K.errors.meeting}):null]})}}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Assignee"}),(0,A.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Assignee",value:null===(k=K.values)||void 0===k?void 0:k.assignee},(0,v.PW)(K,"assignee")),{},{children:null===V||void 0===V||null===(P=V.users)||void 0===P?void 0:P.map((function(e){var l,i;return(0,A.jsx)("option",{value:null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l._id,children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.email},null===e||void 0===e?void 0:e.id)}))})),null!==K&&void 0!==K&&null!==(R=K.errors)&&void 0!==R&&R.assignee?(0,A.jsx)("span",{className:"text-[10px] text-error",children:K.errors.assignee}):null]})]}),(0,A.jsxs)("div",{className:"grid content-center grid-cols-2 gap-x-4",children:[(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Goal Type"}),(0,A.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Goal Type",value:null===(T=K.values)||void 0===T?void 0:T.goal_type},(0,v.PW)(K,"goal_type")),{},{children:(0,A.jsx)("option",{value:f.P.INDIVIDUAL,children:"Individual"})})),null!==K&&void 0!==K&&null!==(F=K.errors)&&void 0!==F&&F.goal_type?(0,A.jsx)("span",{className:"text-[10px] text-error",children:K.errors.goal_type}):null]}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Goal Status"}),(0,A.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Goal Status",value:null===(G=K.values)||void 0===G?void 0:G.status,default:null===(U=K.values)||void 0===U?void 0:U.status},(0,v.PW)(K,"status")),{},{children:Object.values(f._O).map((function(e){return(0,A.jsx)("option",{value:e,children:(0,v.fm)(null===e||void 0===e?void 0:e.replace("_"," "))})}))})),null!==K&&void 0!==K&&null!==(I=K.errors)&&void 0!==I&&I.status?(0,A.jsx)("span",{className:"text-[10px] text-error",children:K.errors.status}):null]})]}),(0,A.jsxs)("div",{className:"mt-4",children:[(0,A.jsx)("label",{htmlFor:"Milestones",children:"Milestones"}),(0,A.jsxs)("div",{className:"py-4 ",children:[null===(z=K.values)||void 0===z||null===(O=z.milestones)||void 0===O?void 0:O.map((function(e,l){var i,t;return(0,A.jsxs)("div",{className:"grid grid-cols-2 mb-2 gap-x-4",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,A.jsx)(p.Z,(0,a.Z)({checked:null===(i=K.values)||void 0===i||null===(t=i.milestones[l])||void 0===t?void 0:t.is_completed},(0,v.PW)(K,"milestones.".concat([l],".is_completed")))),(0,A.jsx)(c.Z,(0,a.Z)({showBreak:!1,type:"text",placeholder:"Enter title"},(0,v.PW)(K,"milestones.".concat([l],".name"))))]}),(0,A.jsxs)("div",{className:"flex items-center w-full",children:[(0,A.jsx)(m.Z,{selected:new Date(K.values.milestones[l].due_date),placeholder:"Due date",onSelect:function(e){return K.setFieldValue("milestones.".concat([l],".due_date"),e)}}),(0,A.jsx)(h.Z,{children:(0,A.jsx)(j.SV5,{className:"text-red-600",onClick:function(){return function(e){K.setFieldValue("milestones",(0,n.Z)(K.values.milestones.filter((function(l,i){return i!==e}))))}(l)}})})]})]},l+1)})),(0,A.jsx)("span",{className:"cursor-pointer text-primary",onClick:function(){K.setFieldValue("milestones",[].concat((0,n.Z)(K.values.milestones),[{name:"",due_date:new Date}]))},children:"+ Add more milestone"})]})]}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,A.jsx)("button",{type:"button",onClick:q,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,A.jsx)("button",{disabled:!K.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},79698:function(e,l,i){i.d(l,{Z:function(){return w}});var n=i(74165),t=i(1413),a=i(15861),r=i(29439),d=i(79429),o=i(97931),s=i(27356),u=i(57406),c=i(21933),v=i(31271),x=i(36059),m=i(96215),p=i(71575),h=i(48475),g=i(82101),f=i(40086),j=i(61171),b=i(47313),y=i(81676),N=i(35925),Z=i(46417);function w(e){var l,i,w=e.show,_=e.handleToggleGoal,E=e.itemData,C=e.header,D=void 0===C?"Update Headlines":C,M=e.hidButtons,A=void 0!==M&&M,S=(0,f.Z)().user,k=(0,v.Z)().toggleLoadingModal,P=p.P.useUpdateHeadlineMutation(),R=(0,r.Z)(P,1)[0],T=j.W.useUserMeetingsQuery({}),F=(0,b.useMemo)((function(){var e;return null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.data}),[T]),G=(0,d.TA)({initialValues:{title:null===E||void 0===E?void 0:E.title,details:null===E||void 0===E?void 0:E.details,meeting:(null===E||void 0===E||null===(l=E.meeting)||void 0===l?void 0:l._id)||""},validateOnChange:!0,validateOnBlur:!0,validationSchema:c.Ry().shape({title:c.Z_().label(" Title").required(),details:c.Z_().label("Details").optional(),meeting:c.Z_().label("Meeting").required()}),onSubmit:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(l){var i,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,R((0,t.Z)((0,t.Z)({},l),{},{status:"ARCHIVED",id:null===E||void 0===E?void 0:E.id})).unwrap();case 4:a=e.sent,_(),x.ZP.success(null===a||void 0===a?void 0:a.message),(0,h.T)({channel:g.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:y.G9.HEADLINE,user_id:null===S||void 0===S?void 0:S.id,room_name:null===E||void 0===E||null===(i=E.meeting)||void 0===i?void 0:i._id}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),k(!1),x.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:k(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(l){return e.apply(this,arguments)}}()});return(0,Z.jsx)("section",{children:(0,Z.jsx)("article",{children:(0,Z.jsx)(m.Z,{open:w,name:D,handleToggleDrawer:_,children:(0,Z.jsx)("div",{className:"px-4",children:(0,Z.jsxs)("form",{onSubmit:G.handleSubmit,children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(s.Z,(0,t.Z)({type:"text",placeholder:"Enter title"},(0,u.PW)(G,"title")))}),(0,Z.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,Z.jsx)(o.ML,{value:null===(i=G.values)||void 0===i?void 0:i.details,handleChange:function(e){return G.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal details...."})}),(0,Z.jsx)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:(0,Z.jsx)(N.Z,{loading:null===T||void 0===T?void 0:T.isLoading,error:null===T||void 0===T?void 0:T.isError,onReload:T.refetch,children:function(){var e,l;return(0,Z.jsxs)("div",{className:"relative ",children:[(0,Z.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,Z.jsx)("select",(0,t.Z)((0,t.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=G.values)||void 0===e?void 0:e.meeting},(0,u.PW)(G,"meeting")),{},{children:null===F||void 0===F?void 0:F.map((function(e){return(0,Z.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==G&&void 0!==G&&null!==(l=G.errors)&&void 0!==l&&l.meeting?(0,Z.jsx)("span",{className:"text-[10px] text-error",children:G.errors.meeting}):null]})}})}),A?(0,Z.jsx)("button",{type:"button",onClick:_,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Close"}):(0,Z.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,Z.jsx)("button",{type:"button",onClick:_,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,Z.jsx)("button",{disabled:!G.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},45838:function(e,l,i){i.d(l,{Z:function(){return M}});var n=i(74165),t=i(1413),a=i(15861),r=i(29439),d=i(47313),o=i(79429),s=i(97931),u=i(27356),c=i(57406),v=i(21933),x=i(1550),m=i(54299),p=i(52866),h=i(74268),g=i(44758),f=i(81676),j=i(31271),b=i(36059),y=i(96215),N=i(66902),Z=i(48475),w=i(82101),_=i(40086),E=i(61171),C=i(35925),D=i(46417);function M(e){var l,i,M,A,S=e.show,k=e.itemData,P=e.handleToggleGoal,R=(0,_.Z)().user,T=(0,j.Z)().toggleLoadingModal,F=E.W.useUserMeetingsQuery({}),G=(0,d.useMemo)((function(){var e;return null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.data}),[F]),U=N.D.useUpdateIssuesMutation(),I=(0,r.Z)(U,1)[0],z=(0,o.TA)({initialValues:{title:(null===k||void 0===k?void 0:k.title)||"",details:(null===k||void 0===k?void 0:k.details)||"",priority:null===k||void 0===k?void 0:k.priority,is_done:(null===k||void 0===k?void 0:k.is_done)||!1,meeting:(null===k||void 0===k||null===(l=k.meeting)||void 0===l?void 0:l._id)||""},validateOnChange:!0,validateOnBlur:!0,validationSchema:v.Ry().shape({title:v.Z_().label("Issue title").required(),details:v.Z_().label(" details").optional(),is_done:v.Z_().label("status").required(),priority:v.Z_().label("Priority").oneOf(null===f.xi||void 0===f.xi?void 0:f.xi.map((function(e){return e.value}))).required(),meeting:v.Z_().label("Meeting").required()}),onSubmit:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(l){var i,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,I((0,t.Z)((0,t.Z)({},l),{},{id:null===k||void 0===k?void 0:k.id})).unwrap();case 4:a=e.sent,P(),b.ZP.success((null===a||void 0===a?void 0:a.message)||"Topic updated Successsfully"),(0,Z.T)({channel:w.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:f.G9.ISSUE,user_id:null===R||void 0===R?void 0:R.id,room_name:null===k||void 0===k||null===(i=k.meeting)||void 0===i?void 0:i._id}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),T(!1),b.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:T(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(l){return e.apply(this,arguments)}}()});return(0,D.jsx)("section",{children:(0,D.jsx)("article",{children:(0,D.jsx)(y.Z,{open:S,name:"Update Topic",handleToggleDrawer:P,children:(0,D.jsx)("div",{className:"px-4",children:(0,D.jsxs)("form",{onSubmit:z.handleSubmit,children:[(0,D.jsx)("div",{children:(0,D.jsx)(u.Z,(0,t.Z)({type:"text",value:null===z||void 0===z||null===(i=z.values)||void 0===i?void 0:i.title,placeholder:"Enter title"},(0,c.PW)(z,"title")))}),(0,D.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,D.jsx)(s.ML,{value:null===(M=z.values)||void 0===M?void 0:M.details,handleChange:function(e){return z.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal details...."})}),(0,D.jsx)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:(0,D.jsx)(C.Z,{loading:null===F||void 0===F?void 0:F.isLoading,error:null===F||void 0===F?void 0:F.isError,onReload:null===F||void 0===F?void 0:F.refetch,children:function(){var e,l;return(0,D.jsxs)("div",{className:"relative ",children:[(0,D.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,D.jsx)("select",(0,t.Z)((0,t.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=z.values)||void 0===e?void 0:e.meeting},(0,c.PW)(z,"meeting")),{},{children:null===G||void 0===G?void 0:G.map((function(e){return(0,D.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==z&&void 0!==z&&null!==(l=z.errors)&&void 0!==l&&l.meeting?(0,D.jsx)("span",{className:"text-[10px] text-error",children:z.errors.meeting}):null]})}})}),(0,D.jsx)("div",{children:(0,D.jsxs)(x.Z,{className:"w-full my-2",children:[(0,D.jsx)("label",{children:"Priority"}),(0,D.jsx)(m.Z,(0,t.Z)((0,t.Z)({row:!0,defaultValue:1,"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group"},(0,c.PW)(z,"priority")),{},{className:"flex flex-row w-full mt-1 text-black gap-x-4",children:f.xi.map((function(e){return(0,D.jsx)(p.Z,{value:e.value,control:(0,D.jsx)(h.Z,{}),label:e.name},e.id)}))}))]})}),(0,D.jsxs)("div",{className:"flex flex-col my-2 ",children:[(0,D.jsx)("span",{className:"font-normal text-black",children:"Topic Status"}),(0,D.jsxs)("div",{className:"w-full px-3 py-2 mt-2 text-black border rounded-md border-gray-dark ",children:[(0,D.jsx)("span",{children:"Solved"}),(0,D.jsx)(g.Z,{checked:null===(A=z.values)||void 0===A?void 0:A.is_done,onChange:function(e){z.setFieldValue("is_done",e.target.checked)}})]})]}),(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,D.jsx)("button",{type:"button",onClick:P,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,D.jsx)("button",{disabled:!z.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},36612:function(e,l,i){i.d(l,{Z:function(){return I}});var n=i(1413),t=i(93433),a=i(74165),r=i(15861),d=i(29439),o=i(47313),s=i(45798),u=i(60386),c=i(63585),v=i(95765),x=i(31271),m=i(6524),p=i(40628),h=i(85825),g=i(92197),f=i(3051),j=i(31700),b=i(89434),y=i(39231),N=i(6021),Z=i(25376),w=i(68859),_=i(36059),E=i(47889),C=i(81676),D=i(57406),M=i(94143),A=i(40086),S=i(79429),k=i(21933),P=i(2284),R=i(38241),T=i(68309),F=i(4593),G=i(39144),U=i(46417);function I(e){var l,i=e.meetingInfo,I=(0,o.useState)({}),z=(0,d.Z)(I,2),O=z[0],L=z[1],q=(0,A.Z)().user,J=(0,o.useState)(!1),V=(0,d.Z)(J,2),W=V[0],Y=V[1],$=(0,o.useState)(!1),B=(0,d.Z)($,2),Q=B[0],K=B[1],H=(0,o.useState)([]),X=(0,d.Z)(H,2),ee=X[0],le=X[1],ie=(0,o.useState)(""),ne=(0,d.Z)(ie,2),te=ne[0],ae=ne[1],re=(0,o.useRef)(),de=(0,x.Z)().toggleLoadingModal,oe=(0,o.useState)(!1),se=(0,d.Z)(oe,2),ue=se[0],ce=se[1],ve=(0,o.useState)(!1),xe=(0,d.Z)(ve,2),me=xe[0],pe=xe[1],he=Z.t.useDeleteGoalMutation(),ge=(0,d.Z)(he,1)[0],fe=Z.t.useUpdateMetricsValueMutation(),je=(0,d.Z)(fe,1)[0],be=(0,D.pC)(),ye=be.startDate,Ne=be.endDate,Ze=(0,D.lj)(),we=(0,p.Z)().organization.organization,_e=(0,o.useRef)();function Ee(e){Y((function(e){return!e})),_e.current=e}var Ce=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(l){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(),de(!0),e.prev=2,e.next=5,ge(null===l||void 0===l?void 0:l.id).unwrap();case 5:i=e.sent,_.ZP.success(null===i||void 0===i?void 0:i.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),_.ZP.error(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 12:de(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(l){return e.apply(this,arguments)}}(),De=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(l){var i,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!0),e.prev=1,e.next=4,je({id:te,values:l}).unwrap();case 4:i=e.sent,K(!1),_.ZP.success(null===i||void 0===i?void 0:i.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),de(!1),_.ZP.error(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.message);case 13:K(!1),de(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(l){return e.apply(this,arguments)}}(),Me=(0,S.TA)({initialValues:{frequency:"DAILY"},validateOnChange:!0,validateOnBlur:!0,enableReinitialize:!0,validationSchema:k.Ry().shape({}),onSubmit:function(){var e=(0,r.Z)((0,a.Z)().mark((function e(l){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(l){return e.apply(this,arguments)}}()}),Ae=(0,D.tG)(new Date(null===i||void 0===i?void 0:i.created_at),(0,h.default)(new Date,1)).map((function(e,l){return{header:"".concat(e),minSize:50,maxSize:100,cell:function(i){var n,t,a,r,d,o,s,u=i.row,c=(null===u||void 0===u||null===(n=u.original)||void 0===n?void 0:n.value)||0,v=null===u||void 0===u||null===(t=u.original)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.find((function(l){var i=(0,g.default)(e,"dd-MM-yyyy",new Date),n=new Date(l.updated_at);return!!(0,f.default)(i,n)}));return v?(0,U.jsxs)("div",{onClick:function(i){i.preventDefault(),L({data:u.original,date:e,index:l}),pe(!0)},className:"flex items-center self-center justify-center w-full p-3 ".concat(v&&(null===v||void 0===v?void 0:v.value)>=c?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{children:(null===u||void 0===u||null===(r=u.original)||void 0===r?void 0:r.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(v&&v.value>=c?"text-success":"text-error"),children:v.value}),(0,U.jsx)("p",{className:"".concat(v&&v.value>=c?"text-success":"text-error"),children:(null===u||void 0===u||null===(d=u.original)||void 0===d?void 0:d.unit)===C.JA.PERCENTAGE?" %":""})]}):(0,U.jsxs)("div",{onClick:function(i){i.preventDefault(),L({data:u.original,date:e,index:l}),pe(!0)},className:"flex items-center self-center justify-center w-full p-3 bg-gray-400/20",children:[(0,U.jsx)("p",{children:(null===u||void 0===u||null===(o=u.original)||void 0===o?void 0:o.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"text-error-dark",children:(null===v||void 0===v?void 0:v.value)||"-"}),(0,U.jsx)("p",{children:(null===u||void 0===u||null===(s=u.original)||void 0===s?void 0:s.unit)===C.JA.PERCENTAGE?" %":"-"})]})}}})),Se=(0,D.Nu)(new Date(null===i||void 0===i?void 0:i.created_at)).map((function(e,l){return{header:"".concat(null===e||void 0===e?void 0:e.startDate,"-").concat(null===e||void 0===e?void 0:e.endDate),minSize:50,maxSize:100,cell:function(i){var n,t,a,r,d,o,s,u=i.row,c=(null===u||void 0===u||null===(n=u.original)||void 0===n?void 0:n.value)||0,v=(0,g.default)(e.startDate,"MMM-dd",new Date),x=(0,g.default)(e.endDate,"MMM-dd",new Date),m=null===u||void 0===u||null===(t=u.original)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.find((function(e){return(0,j.default)(new Date(e.updated_at),{start:v,end:x})}));return m?(0,U.jsxs)("div",{onClick:function(i){i.preventDefault(),L({data:u.original,date:e,index:l}),pe(!0)},className:"flex items-center self-center justify-center w-full p-4 ".concat(m&&(null===m||void 0===m?void 0:m.value)>=c?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{children:(null===u||void 0===u||null===(r=u.original)||void 0===r?void 0:r.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(m&&m.value>=c?"text-success":"text-error"),children:m.value}),(0,U.jsx)("p",{className:"".concat(m&&m.value>=c?"text-success":"text-error"),children:(null===u||void 0===u||null===(d=u.original)||void 0===d?void 0:d.unit)===C.JA.PERCENTAGE?" %":""})]}):(0,U.jsxs)("div",{onClick:function(i){i.preventDefault(),L({data:u.original,date:e,index:l}),pe(!0)},className:"flex items-center self-center justify-center w-full p-3 bg-gray-400/20",children:[(0,U.jsx)("p",{children:(null===u||void 0===u||null===(o=u.original)||void 0===o?void 0:o.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"text-error-dark",children:(null===m||void 0===m?void 0:m.value)||"-"}),(0,U.jsx)("p",{children:(null===u||void 0===u||null===(s=u.original)||void 0===s?void 0:s.unit)===C.JA.PERCENTAGE?" %":"-"})]})}}})),ke=(0,D.OT)(new Date(null===i||void 0===i?void 0:i.created_at)).map((function(e,l){return{header:"".concat(null===e||void 0===e?void 0:e.startDate,"-").concat(null===e||void 0===e?void 0:e.endDate),minSize:50,maxSize:100,cell:function(i){var n,t,a,r,d,o,s,u=i.row,c=(null===u||void 0===u||null===(n=u.original)||void 0===n?void 0:n.value)||0,v=(0,g.default)(e.startDate,"MMM-dd",new Date),x=(0,g.default)(e.endDate,"MMM-dd",new Date),m=null===u||void 0===u||null===(t=u.original)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.find((function(e){return(0,j.default)(new Date(e.updated_at),{start:v,end:x})}));return m?(0,U.jsxs)("div",{onClick:function(i){i.preventDefault(),L({data:u.original,date:e,index:l}),pe(!0)},className:"flex items-center self-center justify-center w-full p-3 ".concat(m&&(null===m||void 0===m?void 0:m.value)>=c?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{children:(null===u||void 0===u||null===(r=u.original)||void 0===r?void 0:r.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(m&&m.value>=c?"text-success":"text-error"),children:m.value}),(0,U.jsx)("p",{className:"".concat(m&&m.value>=c?"text-success":"text-error"),children:(null===u||void 0===u||null===(d=u.original)||void 0===d?void 0:d.unit)===C.JA.PERCENTAGE?" %":""})]}):(0,U.jsxs)("div",{onClick:function(i){i.preventDefault(),L({data:u.original,date:e,index:l}),pe(!0)},className:"flex items-center self-center justify-center w-full p-3 bg-gray-400/20",children:[(0,U.jsx)("p",{children:(null===u||void 0===u||null===(o=u.original)||void 0===o?void 0:o.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"text-error-dark",children:(null===m||void 0===m?void 0:m.value)||"-"}),(0,U.jsx)("p",{children:(null===u||void 0===u||null===(s=u.original)||void 0===s?void 0:s.unit)===C.JA.PERCENTAGE?" %":"-"})]})}}})),Pe=(0,o.useMemo)((function(){return[{header:"Who",accessorKey:"assignee",cell:function(e){var l,i,n,t,a,r,d,o,s,u,v=e.row;return null!==v&&void 0!==v&&null!==(l=v.original)&&void 0!==l&&null!==(i=l.assignee)&&void 0!==i&&i.bio_data?(0,U.jsxs)("div",{className:"flex items-center gap-x-4 w-64 ",onClick:function(){L(v.original),ce(!0)},children:[(0,U.jsx)(c.Z,{}),(0,U.jsx)("span",{children:"".concat(null===v||void 0===v||null===(n=v.original)||void 0===n||null===(t=n.assignee)||void 0===t||null===(a=t.bio_data)||void 0===a?void 0:a.first_name," ").concat(null===v||void 0===v||null===(r=v.original)||void 0===r||null===(d=r.assignee)||void 0===d||null===(o=d.bio_data)||void 0===o?void 0:o.last_name)})]}):(0,U.jsx)("span",{onClick:function(){L(v.original),ce(!0)},children:null===v||void 0===v||null===(s=v.original)||void 0===s||null===(u=s.assignee)||void 0===u?void 0:u.email})}},{header:"Measureable",size:250,align:"center",cell:function(e){var l,i=e.row;return(0,U.jsx)("div",{className:"text-justified ",children:null===i||void 0===i||null===(l=i.original)||void 0===l?void 0:l.title})}},{header:"Goal",size:50,cell:function(e){var l,i,n,t,a=e.row;return(0,U.jsxs)("div",{className:"flex items-center w-full text-center",onClick:function(){L(a.original),ce(!0)},children:[(0,U.jsx)(G.Z,{type:null===a||void 0===a||null===(l=a.original)||void 0===l?void 0:l.type}),(0,U.jsx)("p",{children:(null===a||void 0===a||null===(i=a.original)||void 0===i?void 0:i.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("p",{children:null===a||void 0===a||null===(n=a.original)||void 0===n?void 0:n.value}),(0,U.jsx)("p",{children:(null===a||void 0===a||null===(t=a.original)||void 0===t?void 0:t.unit)===C.JA.PERCENTAGE?"%":""})]})}},{header:"Avg",minSize:10,maxSize:20,cell:function(e){var l,i,n=e.row,t=null===n||void 0===n||null===(l=n.original)||void 0===l?void 0:l.values.reduce((function(e,l){return e+l.value}),0),a=Math.round(Number(t)/(null===n||void 0===n||null===(i=n.original)||void 0===i?void 0:i.values.length));return(0,U.jsx)("div",{className:"text-center ",children:a||0})}},{header:"Sum",minSize:10,maxSize:20,cell:function(e){var l,i,n=e.row,t=null===n||void 0===n||null===(l=n.original)||void 0===l?void 0:l.values.reduce((function(e,l){return e+l.value}),0),a=Number(t);return(0,U.jsx)("div",{className:"w-full",children:(null===n||void 0===n||null===(i=n.original)||void 0===i?void 0:i.unit)===C.JA.PERCENTAGE?"-":a||0})}}].concat((0,t.Z)(Me.values.frequency===C.tz.DAILY?[{header:"".concat((0,b.default)(new Date,"dd-MMM")),minSize:50,maxSize:100,accessorKey:"details",cell:function(e){var l,i,n,a,r,d,o,s,u,c,v=e.row,x=null===v||void 0===v||null===(l=v.original)||void 0===l?void 0:l.value,m=q.id===(null===v||void 0===v||null===(i=v.original)||void 0===i||null===(n=i.assignee)||void 0===n?void 0:n._id)||q.id===(null===(a=v.original.created_by)||void 0===a?void 0:a._id),p=(0,y.Z)((0,N.default)(new Date)),h=null===v||void 0===v||null===(r=v.original)||void 0===r||null===(d=r.values)||void 0===d?void 0:d.find((function(e){return(0,f.default)(new Date,new Date(e.updated_at))}));return m&&p&&!h?(0,U.jsxs)("div",{className:"flex flex-row items-center justify-around px-2 border-2 w-[90px] border-gray-400",children:[(0,U.jsx)("input",{className:"h-full bg-inherit text-sm rounded placeholder:text-sm w-[45px] p-3 outline-none",type:"number",max:100,maxLength:3,onChange:function(e){var l=e.target.value,i=parseInt(l,10);isNaN(i)?re.current=0:re.current=i}}),(0,U.jsx)(T.qw,{heigth:20,width:20,onClick:function(e){var l;e.preventDefault(),ae(null===v||void 0===v||null===(l=v.original)||void 0===l?void 0:l.id),le([].concat((0,t.Z)(v.original.values||[]),[{value:re.current,updated_at:new Date}])),K(!0)}})]}):m&&p&&h?(0,U.jsxs)("div",{className:"flex items-center self-center justify-center w-full p-3 ".concat(h&&h.value>=x?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{children:(null===v||void 0===v||null===(o=v.original)||void 0===o?void 0:o.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(h&&h.value>=x?"text-success":"text-error"),children:h.value}),(0,U.jsx)("p",{className:"".concat(h&&h.value>=x?"text-success":"text-error"),children:(null===v||void 0===v||null===(s=v.original)||void 0===s?void 0:s.unit)===C.JA.PERCENTAGE?" %":""})]}):(0,U.jsxs)("div",{className:"flex items-center self-center justify-center w-full p-3 ".concat(h?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{className:"".concat(h?"text-success":"text-error"),children:(null===v||void 0===v||null===(u=v.original)||void 0===u?void 0:u.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(h?"text-success":"text-error"),children:(null===h||void 0===h?void 0:h.value)||"-"}),(0,U.jsx)("span",{className:"".concat(h?"text-success":"text-error"),children:(null===v||void 0===v||null===(c=v.original)||void 0===c?void 0:c.unit)===C.JA.PERCENTAGE?" %":""})]})}}]:[]),(0,t.Z)(Me.values.frequency===C.tz.WEEKLY?[{header:"".concat(ye," - ").concat(Ne),minSize:50,maxSize:100,accessorKey:"details",cell:function(e){var l,i,n,a,r,d,o,s,u,c,v=e.row,x=null===v||void 0===v||null===(l=v.original)||void 0===l?void 0:l.value,m=q.id===(null===v||void 0===v||null===(i=v.original)||void 0===i||null===(n=i.assignee)||void 0===n?void 0:n._id)||q.id===(null===(a=v.original.created_by)||void 0===a?void 0:a._id),p=(0,g.default)(ye,"MMM-dd",new Date),h=(0,g.default)(Ne,"MMM-dd",new Date),f=(0,j.default)(new Date,{start:p,end:h}),b=null===v||void 0===v||null===(r=v.original)||void 0===r||null===(d=r.values)||void 0===d?void 0:d.find((function(e){return(0,j.default)(new Date(e.updated_at),{start:p,end:h})}));return m&&f&&!b?(0,U.jsxs)("div",{className:"flex flex-row items-center justify-around px-2 border-2 w-[90px] border-gray-400",children:[(0,U.jsx)("input",{className:"h-full bg-inherit text-sm rounded placeholder:text-sm w-[45px] p-3 outline-none",type:"number",max:100,maxLength:3,onChange:function(e){var l=e.target.value,i=parseInt(l,10);isNaN(i)?re.current=0:re.current=i}}),(0,U.jsx)("button",{className:"font-bold text-success",onClick:function(e){var l;e.preventDefault(),ae(null===v||void 0===v||null===(l=v.original)||void 0===l?void 0:l.id),le([].concat((0,t.Z)(v.original.values||[]),[{value:re.current,updated_at:new Date}])),K(!0)},children:"Ok"})]}):m&&f&&b?(0,U.jsxs)("div",{className:"flex items-center self-center justify-center w-full p-3 ".concat(b&&b.value>=x?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{children:(null===v||void 0===v||null===(o=v.original)||void 0===o?void 0:o.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(b&&b.value>=x?"text-success":"text-error"),children:b.value}),(0,U.jsx)("p",{className:"".concat(b&&b.value>=x?"text-success":"text-error"),children:(null===v||void 0===v||null===(s=v.original)||void 0===s?void 0:s.unit)===C.JA.PERCENTAGE?" %":""})]}):(0,U.jsxs)("div",{className:"flex items-center self-center justify-center w-full p-3 ".concat(b?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{className:"".concat(b?"text-success":"text-error"),children:(null===v||void 0===v||null===(u=v.original)||void 0===u?void 0:u.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(b?"text-success":"text-error"),children:(null===b||void 0===b?void 0:b.value)||"-"}),(0,U.jsx)("span",{className:"".concat(b?"text-success":"text-error"),children:(null===v||void 0===v||null===(c=v.original)||void 0===c?void 0:c.unit)===C.JA.PERCENTAGE?" %":""})]})}}]:[]),(0,t.Z)(Me.values.frequency===C.tz.MONTHLY?[{header:"".concat(Ze.startDate," - ").concat(Ze.endDate),minSize:50,maxSize:100,accessorKey:"details",cell:function(e){var l,i,n,a,r,d,o,s,u,c,v=e.row,x=null===v||void 0===v||null===(l=v.original)||void 0===l?void 0:l.value,m=q.id===(null===v||void 0===v||null===(i=v.original)||void 0===i||null===(n=i.assignee)||void 0===n?void 0:n._id)||q.id===(null===(a=v.original.created_by)||void 0===a?void 0:a._id),p=(0,g.default)(Ze.startDate,"MMM-dd",new Date),h=(0,g.default)(Ze.endDate,"MMM-dd",new Date),f=(0,j.default)(new Date,{start:p,end:h}),b=null===v||void 0===v||null===(r=v.original)||void 0===r||null===(d=r.values)||void 0===d?void 0:d.find((function(e){return(0,j.default)(new Date(e.updated_at),{start:p,end:h})}));return m&&f&&!b?(0,U.jsxs)("div",{className:"flex flex-row items-center justify-around px-2 border-2 w-[90px] border-gray-400",children:[(0,U.jsx)("input",{className:"h-full bg-inherit text-sm rounded placeholder:text-sm w-[45px] p-3 outline-none",type:"number",max:100,maxLength:3,onChange:function(e){var l=e.target.value,i=parseInt(l,10);isNaN(i)?re.current=0:re.current=i}}),(0,U.jsx)(T.qw,{onClick:function(e){var l;e.preventDefault(),ae(null===v||void 0===v||null===(l=v.original)||void 0===l?void 0:l.id),le([].concat((0,t.Z)(v.original.values||[]),[{value:re.current,updated_at:new Date}])),K(!0)}})]}):m&&f&&b?(0,U.jsxs)("div",{className:"flex items-center self-center justify-center w-full p-3 ".concat(b&&b.value>=x?"bg-[#7EFC9A21]":"bg-[#FFE3E6]"),children:[(0,U.jsx)("p",{children:(null===v||void 0===v||null===(o=v.original)||void 0===o?void 0:o.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(b&&b.value>=x?"text-success":"text-error"),children:b.value}),(0,U.jsx)("p",{className:"".concat(b&&b.value>=x?"text-success":"text-error"),children:(null===v||void 0===v||null===(s=v.original)||void 0===s?void 0:s.unit)===C.JA.PERCENTAGE?" %":""})]}):(0,U.jsxs)("div",{className:"flex items-center self-center justify-center w-full p-3 ".concat(b?"bg-success-light/20":"bg-error/20"),children:[(0,U.jsx)("p",{className:"".concat(b?"text-success":"text-error"),children:(null===v||void 0===v||null===(u=v.original)||void 0===u?void 0:u.unit)===C.JA.CURRENCY?"$":""}),(0,U.jsx)("span",{className:"".concat(b?"text-success":"text-error"),children:(null===b||void 0===b?void 0:b.value)||"-"}),(0,U.jsx)("span",{className:"".concat(b?"text-success":"text-error"),children:(null===v||void 0===v||null===(c=v.original)||void 0===c?void 0:c.unit)===C.JA.PERCENTAGE?" %":""})]})}}]:[]),[{header:"",accessorKey:"button",cell:function(e){e.row;return(0,U.jsx)("div",{className:"flex justify-evenly",children:(0,U.jsx)(R.Z,{data:i})})}}],(0,t.Z)(Me.values.frequency===C.tz.DAILY?Ae:[]),(0,t.Z)(Me.values.frequency===C.tz.WEEKLY?Se:[]),(0,t.Z)(Me.values.frequency===C.tz.MONTHLY?ke:[]))}),[Me.values]),Re=Z.t.useGetAllMetricQuery((0,o.useMemo)((function(){return(0,n.Z)({meeting:null===i||void 0===i?void 0:i.id,organization:null===we||void 0===we?void 0:we._id},Me.values)}),[Me.values,i,we])),Te=(0,o.useMemo)((function(){var e;return null===Re||void 0===Re||null===(e=Re.data)||void 0===e?void 0:e.data}),[Re]),Fe=(0,u.Z)({columns:Pe,data:Te});return(0,U.jsxs)("section",{className:"w-full ",children:[(0,U.jsx)(m.Z,{name:"Metric Items",options:(0,U.jsx)("div",{children:(0,U.jsx)(P.A,(0,n.Z)((0,n.Z)({defaultValue:"Frequency"},(0,D.PW)(Me,"frequency")),{},{children:null===(l=Object.values(C.tz))||void 0===l?void 0:l.map((function(e){return(0,U.jsx)(v.Z,{value:e,children:null===e||void 0===e?void 0:e.replace("_"," ")},e)}))}))}),children:(0,U.jsx)("div",{className:"w-full",children:(0,U.jsx)(s.Z,{instance:Fe,loading:Re.isFetching,error:Re.isError,onRetry:Re.refetch,pagination:!1})})}),ue?(0,U.jsx)(E.Z,{show:ue,itemData:O,handleToggleGoal:function(){ce(!1)}}):null,me&&(0,U.jsx)(F.Z,{metricData:O,isOpen:me,closeModal:function(){pe(!1)},handleAction:function(){}}),(0,U.jsx)(w.Z,{header:"Delete",description:"Are you sure you want to delete this metric?",isOpen:W,closeModal:function(){Ee()},handleAction:function(){Ce(null===_e||void 0===_e?void 0:_e.current)}}),(0,U.jsx)(M.Z,{title:"Update current Metric value",description:"Are you sure you want to update this metric?",isOpen:Q,closeModal:function(){K(!1)},handleAction:(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De(ee);case 1:case"end":return e.stop()}}),e)})))})]})}}}]);