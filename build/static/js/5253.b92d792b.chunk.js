"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[5253],{82559:function(e,n,t){t(47313);n.Z=t.p+"static/media/DeleteIcon.e4db93268cd0cbc1b065b6a25fd47ad1.svg"},16254:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(74165),r=t(15861),a=t(29439),o=t(47313),l=t(6524),s=t(45798),u=t(60386),c=t(47131),d=t(82559),v=t(31271),f=t(36059),h=t(68859),m=t(58467),p=t(61171),x=t(46417);function b(){var e=(0,o.useState)(!1),n=(0,a.Z)(e,2),t=n[0],b=n[1],g=(0,v.Z)().toggleLoadingModal,w=p.W.useDeleteMeetingAttendeeMutation(),Z=(0,a.Z)(w,1)[0],j=(0,o.useRef)(),k=(0,m.TH)(),y=(0,o.useMemo)((function(){return null===k||void 0===k?void 0:k.state.meeting}),[k]);function M(){b((function(e){return!e}))}var A=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),g(!0),e.prev=2,e.next=5,Z({meeting:y.id,participant:n.id}).unwrap();case 5:t=e.sent,f.ZP.success(null===t||void 0===t?void 0:t.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),f.ZP.error(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 12:g(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),N=(0,o.useMemo)((function(){return[{header:"First name",cell:function(e){var n,t,i,r=e.row;return"".concat((null===r||void 0===r||null===(n=r.original)||void 0===n||null===(t=n.participant)||void 0===t||null===(i=t.bio_data)||void 0===i?void 0:i.first_name)||"-----")}},{header:"Last name",cell:function(e){var n,t,i,r=e.row;return"".concat((null===r||void 0===r||null===(n=r.original)||void 0===n||null===(t=n.participant)||void 0===t||null===(i=t.bio_data)||void 0===i?void 0:i.last_name)||"-----")}},{header:"Email",accessorKey:"participant_email"},{header:"",accessorKey:"button",cell:function(e){var n,t=e.row;return(0,x.jsx)("div",{className:"flex justify-end mr-auto",ref:j,id:null===t||void 0===t||null===(n=t.original)||void 0===n?void 0:n.id,children:(0,x.jsx)(c.Z,{onClick:M,children:(0,x.jsx)("img",{src:d.Z,alt:""})})})}}]}),[]),_=p.W.useAttendeeListQuery(null===y||void 0===y?void 0:y.id,{skip:!(null!==y&&void 0!==y&&y.id)}),D=(0,o.useMemo)((function(){var e;return null===_||void 0===_||null===(e=_.currentData)||void 0===e?void 0:e.data}),[_]),L=(0,u.Z)({columns:N,data:D});return(0,x.jsxs)("section",{className:"w-full ",children:[(0,x.jsx)(h.Z,{header:"Delete",description:"Are you sure you want to delete this attendee from this meeting?",isOpen:t,closeModal:function(){M()},handleAction:function(){A(null===j||void 0===j?void 0:j.current)}}),(0,x.jsx)(l.Z,{name:"Attendees List",children:(0,x.jsx)("div",{className:"w-full",children:(0,x.jsx)(s.Z,{instance:L,loading:_.isFetching,error:_.isError,onRetry:_.refetch})})})]})}},6524:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(46417);function r(e){var n=e.name,t=e.children,r=e.options;return(0,i.jsxs)("div",{className:"w-full px-6 pb-4 bg-white shadow h-fit rounded-2xl",children:[(0,i.jsxs)("div",{className:"flex flex-row justify-between items-center py-6 text-base font-bold border-b",children:[(0,i.jsx)("h4",{children:n}),(0,i.jsx)("div",{children:r})]}),t]})}}}]);