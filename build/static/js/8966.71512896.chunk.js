"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[8966],{82559:function(e,n,t){t(47313);n.Z=t.p+"static/media/DeleteIcon.e4db93268cd0cbc1b065b6a25fd47ad1.svg"},58387:function(e,n,t){var i=t(46417);n.Z=function(e){var n=e.name;return(0,i.jsx)("div",{className:"w-full py-4",children:(0,i.jsx)("div",{children:(0,i.jsx)("h2",{className:"text-base font-semibold sm:text-lg md:text-xl lg:text-2xl",children:n})})})}},39843:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(74165),r=t(15861),a=t(29439),s=t(81676),o=t(60386),l=t(47313),c=t(58467),u=t(45798),d=t(61171),v=t(44922),f=t(40628),h=t(89434),m=t(47131),x=t(82559),g=t(31271),p=t(36059),y=t(92059),Z=t(19787),b=t(58387),j=t(97763),w=t(94143),M=t(46417);function k(){var e=(0,c.s0)(),n=(0,c.TH)(),t=(0,l.useState)(!1),k=(0,a.Z)(t,2),N=k[0],D=k[1],C=(0,g.Z)().toggleLoadingModal,E=(0,l.useState)(null),_=(0,a.Z)(E,2),A=_[0],T=_[1],I=(0,y.T)(),K=(0,f.Z)().organization.organization,O=(0,v.Z)().workspace,S=d.W.useMeetingListQuery({organization:null===K||void 0===K?void 0:K._id,workspace:null===O||void 0===O?void 0:O.id}),z=d.W.useDeleteMeetingMutation(),F=(0,a.Z)(z,1)[0],G=(0,l.useMemo)((function(){return null===S||void 0===S?void 0:S.data}),[S]);(0,l.useCallback)((function(e){return n.pathname.includes(e)}),[n]);function P(){D((function(e){return!e}))}var R=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),C(!0),e.prev=2,e.next=5,F(n).unwrap();case 5:t=e.sent,p.ZP.success(null===t||void 0===t?void 0:t.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),p.ZP.error(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 12:C(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),W=(0,l.useMemo)((function(){return[{header:"Meeting Name",accessorKey:"title"},{header:"Description",accessorKey:"description",accessorFn:function(e){return null!==e&&void 0!==e&&e.description?"".concat(null===e||void 0===e?void 0:e.description.replace(/<[^>]*>/g,"").substring(0,150),"..."):"-------------------"}},{header:"Created On",accessorKey:"created_at",accessorFn:function(e){return(0,h.default)(new Date(null===e||void 0===e?void 0:e.created_at),"dd/MM/yyyy ")}},{header:"",accessorKey:"button",cell:function(n){var t,i=n.row;return(0,M.jsxs)("div",{className:"flex justify-end gap-x-6 ",id:null===i||void 0===i||null===(t=i.original)||void 0===t?void 0:t.id,children:[(0,M.jsx)("button",{type:"button",className:"flex items-center justify-center py-2 px-4 text-sm ease-linear delay-100 text-white border rounded-lg bg-primary-light border-primary-light hover:bg-blue-800 hover:text-white",onClick:function(){e(s.s2.DASHBOARD_MEETING_PREVIEW,{state:{item:i.original}})},children:"Go To Meeting"}),(0,M.jsx)(m.Z,{onClick:function(){T(null===i||void 0===i?void 0:i.original),P()},children:(0,M.jsx)("img",{src:x.Z,height:24,width:24,alt:""})})]})}}]}),[O]),H=(0,o.Z)({columns:W,data:null===G||void 0===G?void 0:G.data});return(0,M.jsxs)("section",{children:[(0,M.jsxs)("article",{children:[(0,M.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,M.jsx)(b.Z,{name:"Meetings"}),(0,M.jsx)("div",{className:"max-w-fit",children:(0,M.jsx)(j.Z,{name:"Create Meeting",onClick:function(){I((0,Z.fS)()),e(s.s2.ADD_MEETING)}})})]}),(0,M.jsx)("div",{className:"w-full rounded shadow-lg",children:(0,M.jsx)(u.Z,{instance:H,loading:S.isFetching,error:S.isError,onRetry:S.refetch})})]}),N&&(0,M.jsx)(w.Z,{title:"Delete",description:"Are you sure you want to delete this meeting?",isOpen:N,closeModal:function(){P()},handleAction:function(){R(A)}})]})}},85038:function(e,n,t){var i=t(54792);n.Z=i.Z},92537:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(47313);var r=function(e,n){var t,r;return i.isValidElement(e)&&-1!==n.indexOf(null!=(t=e.type.muiName)?t:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}}}]);