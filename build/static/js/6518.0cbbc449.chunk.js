"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[6518],{51402:function(e,n,l){l.d(n,{Z:function(){return a}});l(47313);var t=l(46417);var a=function(e){var n=e.hours,l=e.minutes,a=e.seconds,i=e.handleDurationChange;return(0,t.jsxs)("div",{className:"duration-picker",children:[(0,t.jsx)("label",{children:"Hours:"}),(0,t.jsx)("select",{className:"hour-select",name:"hours",value:n,onChange:i,children:Array.from({length:10},(function(e,n){return(0,t.jsx)("option",{value:n,children:n},n)}))}),(0,t.jsx)("label",{children:"Minutes:"}),(0,t.jsx)("select",{className:"minute-select",value:l,name:"minutes",onChange:i,children:Array.from({length:60},(function(e,n){return(0,t.jsx)("option",{value:n,children:n},n)}))}),(0,t.jsx)("label",{children:"Seconds:"}),(0,t.jsx)("select",{className:"minute-select",name:"seconds",value:a,onChange:i,children:Array.from({length:60},(function(e,n){return(0,t.jsx)("option",{value:n,children:n},n)}))})]})}},97931:function(e,n,l){l.d(n,{ML:function(){return s}});l(47313);var t=l(16),a=l.n(t),i=(l(94230),l(46417)),r=function(){return(0,i.jsxs)("div",{id:"toolbar",children:[(0,i.jsxs)("select",{className:"ql-header",defaultValue:"",onChange:function(e){return e.persist()},children:[(0,i.jsx)("option",{value:"1"}),(0,i.jsx)("option",{value:"2"}),(0,i.jsx)("option",{selected:!0})]}),(0,i.jsx)("button",{className:"ql-bold"}),(0,i.jsx)("button",{className:"ql-italic"})]})},s=function e(n){return(0,i.jsxs)("div",{className:"overflow-hidden rounded-lg text-editor",children:[(0,i.jsx)(r,{}),(0,i.jsx)(a(),{defaultValue:n.value,className:n.className,onChange:n.handleChange,placeholder:n.placeholder,modules:e.modules,formats:e.formats,theme:"snow"})]})};s.modules={toolbar:{container:"#toolbar"},clipboard:{matchVisual:!1}},s.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color"]},71158:function(e,n,l){var t=l(92059);n.Z=function(){return{meeting:(0,t.C)((function(e){return e.global.meeting})),meeting_list:(0,t.C)((function(e){return e.global.meeting_list})),new_meeting:(0,t.C)((function(e){return e.global.new_meeting}))}}},30663:function(e,n,l){l.d(n,{Z:function(){return k}});var t=l(1413),a=l(74165),i=l(15861),r=l(29439),s=l(47313),o=l(46417);function u(e){var n=e.formik;return(0,o.jsx)("section",{children:(0,o.jsx)("input",{className:"border h-14 outline-none flex items-center border-gray-950 rounded-lg w-full bg-inherit mt-2 px-4 focus:border-primary",type:"email",placeholder:"Enter your email",onChange:function(e){return n.setFieldValue("selectedValues",[e.target.value])}})})}var d=l(79429),c=l(1550),m=l(54299),h=l(52866),x=l(74268),v=function(e){var n=e.data,l=e.handleSwitch;return(0,o.jsx)(c.Z,{className:" w-full",children:(0,o.jsx)(m.Z,{row:!0,"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"1",name:"radio-buttons-group",onChange:l,className:"w-full flex flex-row justify-center py-5 gap-x-4 text-black",children:n.map((function(e){return(0,o.jsx)(h.Z,{value:e.value,control:(0,o.jsx)(x.Z,{}),label:e.label},e.id)}))})})},f=l(36059),p=l(31271),g=l(21933),b=l(61171),j=l(97763),Z=l(55490),y=l(16783),w=l(44922),N=l(81676),C=[{id:1,value:"1",label:"Add Existing User"}];function k(e){var n=e.handleDrawerToggle,l=e.meeting,c=(0,s.useState)("1"),m=(0,r.Z)(c,2),h=m[0],x=m[1],k=(0,p.Z)().toggleLoadingModal,E=b.W.useAddMeetingParticipantsMutation(),M=(0,r.Z)(E,1)[0];var A=(0,d.TA)({initialValues:{selectedValues:[]},validationSchema:g.Ry().shape({selectedValues:g.IX().of(g.Ry({email:g.Z_().email().label("Email").required(),role:g.Z_().optional()})).min(1,"Select At least 1 meeting attendee").optional()}),validateOnChange:!0,validateOnBlur:!0,onSubmit:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var i,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,M({meeting:null===l||void 0===l?void 0:l.id,participants:null===t||void 0===t||null===(i=t.selectedValues)||void 0===i?void 0:i.map((function(e){return{email:e.email,role:N.Z3.MEMBER}}))}).unwrap();case 4:r=e.sent,f.ZP.success(null===r||void 0===r?void 0:r.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),k(!1),f.ZP.error(null===e.t0||void 0===e.t0||null===(s=e.t0.data)||void 0===s?void 0:s.message);case 12:n(),k(!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()}),S=(0,w.Z)().workspace,_=(0,s.useMemo)((function(){var e;return null===S||void 0===S||null===(e=S.users)||void 0===e?void 0:e.map((function(e){var n,l,t,a;return{first_name:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.first_name,last_name:null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.last_name,email:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email,id:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a._id}}))}),[S]);return(0,o.jsxs)("section",{className:"flex flex-col flex-1 h-full max-h-screen ",children:[(0,o.jsx)("div",{children:(0,o.jsx)(v,{data:C,handleSwitch:function(e,n){x(n)}})}),(0,o.jsxs)("form",{className:"flex flex-col flex-1 h-full p-4",onSubmit:A.handleSubmit,children:["1"===h?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(Z.Z,{multiple:!0,options:_,getOptionLabel:function(e){return e.email},filterSelectedOptions:!0,value:A.values.selectedValues,onChange:function(e,n){A.setFieldValue("selectedValues",n)},renderInput:function(e){return(0,o.jsx)(y.Z,(0,t.Z)((0,t.Z)({},e),{},{variant:"outlined",label:"Search Attendees",placeholder:"Attendees"}))}})}):null,"2"===h?(0,o.jsx)(u,{formik:A}):null,(0,o.jsxs)("div",{className:"flex flex-row justify-between mt-10",children:[(0,o.jsx)(j.Z,{name:"Cancel",onClick:n,outline:!0}),(0,o.jsx)(j.Z,{name:"Add",onClick:A.handleSubmit})]})]})]})}},2477:function(e,n,l){var t=l(4942),a=l(1413),i=l(74165),r=l(93433),s=l(15861),o=l(29439),u=(l(47313),l(31271)),d=l(79429),c=l(21933),m=l(36059),h=l(27356),x=l(57406),v=l(78846),f=l(95765),p=l(97931),g=l(61171),b=l(51402),j=l(46417);n.Z=function(e){var n=e.handleDrawer,l=e.meeting,Z=(0,u.Z)().toggleLoadingModal,y=g.W.useAddMeetingModuleMutation(),w=(0,o.Z)(y,1)[0],N=(0,d.TA)({initialValues:{name:"",description:"",type:"",duration:{hours:0,minutes:0,seconds:0}},validationSchema:c.Ry().shape({name:c.Z_().label("Module Name").required(),description:c.Z_().label(" Description").optional(),type:c.Z_().label(" Type").optional(),duration:c.Ry({hours:c.Rx().label("Hours").optional(),minutes:c.Rx().label("Minutes").optional(),seconds:c.Rx().label("Seconds").optional()}).label("Duration").optional()}),validateOnBlur:!0,validateOnChange:!0,onSubmit:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.prev=1,e.next=4,w({id:null===l||void 0===l?void 0:l.id,modules:[].concat((0,r.Z)(null===l||void 0===l?void 0:l.modules),[t])}).unwrap();case 4:a=e.sent,n(),m.ZP.success(null===a||void 0===a?void 0:a.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),Z(!1),m.ZP.error(null===e.t0||void 0===e.t0||null===(s=e.t0.data)||void 0===s?void 0:s.message);case 13:Z(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()});return(0,j.jsxs)("form",{className:"p-4",onSubmit:N.handleSubmit,children:[(0,j.jsx)(h.Z,(0,a.Z)({type:"text",placeholder:"Module Name"},(0,x.PW)(N,"name"))),(0,j.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,j.jsx)(p.ML,{handleChange:function(e){return N.setFieldValue("description",e)},className:"w-full h-40",placeholder:"Module details...."})}),(0,j.jsxs)(v.Z,(0,a.Z)((0,a.Z)({fullWidth:!0,className:"mt-6 border focus:border-gray-dark"},(0,x.PW)(N,"type")),{},{children:[(0,j.jsx)(f.Z,{defaultValue:"Select",value:"",children:"Select module types"}),(0,j.jsx)(f.Z,{value:"CHECK_IN",children:"Check in"}),(0,j.jsx)(f.Z,{value:"ACTION_ITEM",children:"Action Item"}),(0,j.jsx)(f.Z,{value:"GOAL",children:"Goal"}),(0,j.jsx)(f.Z,{value:"HEADLINE",children:"Headline"}),(0,j.jsx)(f.Z,{value:"ISSUE",children:"Issue"}),(0,j.jsx)(f.Z,{value:"METRIC",children:"Metric"})]})),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"mt-4",children:[(0,j.jsx)("p",{className:"pb-4 text-base text-gray-dark",children:"Select duration"}),(0,j.jsx)(b.Z,{hours:N.values.duration.hours,minutes:N.values.duration.minutes,seconds:N.values.duration.seconds,handleDurationChange:function(e){var n=e.target,l=n.name,i=n.value;N.setFieldValue("duration",(0,a.Z)((0,a.Z)({},N.values.duration),{},(0,t.Z)({},l,parseInt(i,10))))}})]})}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,j.jsx)("button",{type:"button",onClick:n,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,j.jsx)("button",{type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})}},58387:function(e,n,l){var t=l(46417);n.Z=function(e){var n=e.name;return(0,t.jsx)("div",{className:"w-full py-4",children:(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-base font-semibold sm:text-lg md:text-xl lg:text-2xl",children:n})})})}},73433:function(e,n,l){l.d(n,{Z:function(){return a}});l(47313);var t=l(46417);function a(e){var n=e.name,l=e.onClick;return(0,t.jsx)("button",{type:"button",onClick:l,className:" py-2 px-4 lg:py-3 text-xs md:text-sm lg:text-base font-bold ease-linear delay-100 bg-white border rounded-md border-primary-dark text-primary-dark lg:min-w-48 lg:max-w-fit hover:bg-blue-800 hover:text-white",children:n})}},92580:function(e,n,l){l.d(n,{Z:function(){return r}});var t=l(47313),a=l(58467),i=l(46417);function r(e){var n=e.tab,l=e.onClick,r=e.type,s=void 0===r?null:r,o=(0,a.TH)(),u=(0,a.s0)(),d=(0,t.useCallback)((function(e){return o.pathname.includes(e)}),[o]);return(0,i.jsx)("div",{className:"w-full lg:min-w-56 lg:py-8  mb-6 lg:mb-0 bg-white lg:shadow rounded-2xl",children:(0,i.jsx)("ul",{className:"w-full h-full cursor-pointer flex justify-between items-center  lg:block ",children:n.map((function(e){return(0,i.jsx)("li",{onClick:function(n){return s?l(n,e):function(e,n){e.preventDefault(),u(n.value),d(n.value)}(n,e)},className:"".concat(d(e.value)?"bg-[#E5E7F4] text-primary font-bold":"bg-white"," w-full py-4 px-4 bg-[#E5E7F4] text-sm md:text-base"),children:e.name},e.id)}))})})}},86518:function(e,n,l){l.r(n),l.d(n,{default:function(){return w}});l(74165),l(15861),l(93433);var t=l(29439),a=l(47313),i=(l(94230),l(37248)),r=l(5166),s=l(58467),o=l(81676),u=l(71158),d=l(36059),c=l(61689),m=l(58387),h=l(97763),x=l(96215),v=l(30663),f=l(2477),p=l(40628),g=l(73433),b=l(92580),j=l(31271),Z=l(61171),y=l(46417);function w(){(0,j.Z)().toggleLoadingModal,(0,a.useRef)(null);var e,n,l=Z.W.useAddMeetingModuleMutation(),i=((0,t.Z)(l,1)[0],(0,s.V$)(N)),w=(0,s.TH)(),C=(0,s.s0)(),k=(0,a.useState)(!1),E=(0,t.Z)(k,2),M=E[0],A=E[1],S=(0,a.useState)(!1),_=(0,t.Z)(S,2),D=_[0],T=_[1],I=(0,u.Z)().new_meeting,V=(0,a.useState)((null===I||void 0===I?void 0:I.modules)||[]),F=(0,t.Z)(V,2),P=F[0],O=(F[1],(0,a.useMemo)((function(){return[{id:1,name:"Basics",value:o.s2.ADD_MEETING_INFO},{id:2,name:"Attendees",value:o.s2.ADD_MEETING_ATTENDEES}]}),[])),R=((0,p.Z)().organization.organization,function(){T((function(e){return!e}))}),G=(0,a.useCallback)((function(e){return w.pathname.includes(e)}),[w]),H=(0,a.useMemo)((function(){return w.pathname===O[1].value}),[O,w.pathname]);function L(){A((function(e){return!e}))}return(0,y.jsxs)("section",{children:[(0,y.jsxs)("article",{children:[(0,y.jsxs)("div",{className:"flex flex-col items-center justify-between mb-6",children:[(0,y.jsx)(m.Z,{name:"Create Meeting"}),(0,y.jsxs)("div",{className:"flex justify-end w-full gap-x-4 ",children:[(null===I||void 0===I||null===(e=I.modules)||void 0===e?void 0:e.length)>0?(0,y.jsx)(g.Z,{name:"Finish",onClick:function(){return C(o.s2.DASHBOARD_MEETINGS)}}):null,H?(0,y.jsx)(h.Z,{name:"Add Attendees",onClick:L}):null,(0,y.jsx)("div",{className:"block lg:hidden",children:(0,y.jsx)(g.Z,{name:"Add New Module",onClick:R})})]})]}),(0,y.jsxs)("div",{className:"flex flex-col gap-x-6 lg:flex-row",children:[(0,y.jsxs)("div",{className:"basis-[30%]",children:[(0,y.jsx)(b.Z,{tab:O,onClick:function(e,n){return function(e,n){e.preventDefault(),null!==I&&void 0!==I&&I.id?C(n):d.ZP.error("Please fill meeting information !")}(e,n.value)},type:"meeting"}),(null===P||void 0===P?void 0:P.length)>0?(0,y.jsx)("div",{className:"py-4 mt-4 bg-white rounded-lg shadow md:py-6 lg:py-8 h-fit lg:rounded-2xl",children:(0,y.jsx)("ul",{className:"w-full cursor-pointer",children:null===I||void 0===I||null===(n=I.modules)||void 0===n?void 0:n.map((function(e,n){var l,t,a,i;return(0,y.jsxs)("li",{title:e.type,className:"".concat(G(e.name)?"bg-[#E5E7F4]":"bg-white"," w-full py-3 lg:py-4 px-4 bg-[#E5E7F4] text-sm font-light flex justify-between items-center flex-wrap gap-y-2"),children:[(0,y.jsx)(c.Z,{title:null===e||void 0===e||null===(l=e.type)||void 0===l?void 0:l.replace("_"," "),children:(0,y.jsx)("span",{className:"flex-1 text-sm",children:e.name})}),(0,y.jsx)(c.Z,{title:"Module duration",children:(0,y.jsx)("span",{className:"text-[12px]",children:"".concat(null===e||void 0===e||null===(t=e.duration)||void 0===t?void 0:t.hours,"h ").concat(null===e||void 0===e||null===(a=e.duration)||void 0===a?void 0:a.minutes,"m ").concat(null===e||void 0===e||null===(i=e.duration)||void 0===i?void 0:i.seconds,"s")})})]},e.id)}))})}):null,(0,y.jsx)("div",{className:"flex items-end w-full mt-10",children:null!==I&&void 0!==I&&I.id?(0,y.jsx)("button",{type:"button",onClick:R,className:"hidden w-full px-4 py-3 text-base font-bold ease-linear delay-100 bg-white border rounded-md lg:block text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Add New Module"}):null})]}),(0,y.jsx)(r.Z,{children:i})]})]}),M?(0,y.jsx)(x.Z,{open:M,handleToggleDrawer:L,name:"Add Attendees",children:(0,y.jsx)(v.Z,{handleDrawerToggle:L,meeting:I})}):null,D?(0,y.jsx)(x.Z,{open:D,handleToggleDrawer:R,name:"Add New Module",children:(0,y.jsx)(f.Z,{handleDrawer:R,meeting:I})}):null]})}var N=(0,i.W)([{path:"*",element:(0,y.jsx)("div",{})},{path:"/",element:(0,y.jsx)(s.Fg,{to:o.s2.ADD_MEETING_INFO})},{path:o.s2.ADD_MEETING_INFO,element:(0,a.lazy)((function(){return l.e(9841).then(l.bind(l,39841))}))},{path:o.s2.ADD_MEETING_ATTENDEES,element:(0,a.lazy)((function(){return Promise.all([l.e(4697),l.e(2327),l.e(1876)]).then(l.bind(l,55824))}))}],{excludePathPrifix:!0,pathPrifix:"/dashboard/meetings/create"})}}]);