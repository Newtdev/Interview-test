"use strict";(self.webpackChunkkrext=self.webpackChunkkrext||[]).push([[5960],{91771:function(e,t,n){n(47313);t.Z=n.p+"static/media/MilestonesCompleted.1efd6ec686fe3ebffa6f0fa3b395cc17.svg"},48475:function(e,t,n){n.d(t,{T:function(){return j},p:function(){return y}});var i=n(74165),l=n(1413),a=n(15861),r=n(19787),o=n(20905),s=n(94157),d=n(81676),c=n(82101),u=n(22482),v=n(89907),m=n(3379),h=n(56615),x=n(71575),p=n(66902),f=n(25376),g=null,b=!1,y=o.Te.injectEndpoints({endpoints:function(e){return{subscribeToEvents:e.query({queryFn:function(e){return{data:null}},onCacheEntryAdded:function(e,t){return(0,a.Z)((0,i.Z)().mark((function n(){var a,o,j,Z;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.cacheDataLoaded,o=t.cacheEntryRemoved,j=t.dispatch,n.prev=1,n.next=4,a;case 4:g&&g.connected||(g=(0,s.io)("https://api.krext.com/",{path:"/socket",query:{user_id:e.user_id}}),null===(Z=g)||void 0===Z||Z.on("connect",(function(){var e;console.log("=========CONNECTION OPEN============"),b=!1,j((0,r.e5)(!1)),null===(e=g)||void 0===e||e.on("".concat(g.id),(function(e){(null===e||void 0===e?void 0:e.event)===c.vI.RESUME_MEETING_SESSION&&j((0,r.$n)(null===e||void 0===e?void 0:e.data))}))})),g.on(c.vI.START_MEETING_SESSION,(function(e){j((0,r.$n)(e))})),g.on(c.vJ.MEETING_STARTED,(function(e){j((0,r.$n)((0,l.Z)((0,l.Z)({},e),{},{duration:{hours:0,minutes:5,seconds:0}})))})),g.on(c.vI.MEETING_SESSION_BROADCAST,(function(e){var t,n;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.event)===c.vJ.TANGENT?(j((0,r.ak)(!0)),setTimeout((function(){j((0,r.ak)(!1))}),4e3)):j((0,r.$n)(null===e||void 0===e?void 0:e.data))})),g.on(c.vI.MEETING_SESSION_RATINGS,(function(e){j((0,r.$n)(null===e||void 0===e?void 0:e.data))})),g.on(c.vI.MEETING_SESSION_MODULE_UPDATE,(function(e){var t;switch(console.log("Module Update Triggered"),console.log(null===e||void 0===e?void 0:e.data),null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.event){case d.G9.ACTION_ITEM:h.h.dispatch(v.z.util.invalidateTags([{type:u.Z.ACTION_ITEM}]));break;case d.G9.ISSUE:h.h.dispatch(p.D.util.invalidateTags([{type:u.Z.ISSUES}]));break;case d.G9.GOAL:h.h.dispatch(m.j.util.invalidateTags([{type:u.Z.GOAL}]));break;case d.G9.HEADLINE:h.h.dispatch(x.P.util.invalidateTags([{type:u.Z.HEADLINES}]));break;case d.G9.METRIC:h.h.dispatch(f.t.util.invalidateTags([{type:u.Z.METRICS}]));break;default:console.log("Unknown mody")}})),g.on("disconnect",(function(){console.log("=========CONNECTION CLOSE============",b),j((0,r.e5)(!0)),j(y.util.resetApiState())}))),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:return n.next=11,o;case 11:g&&g.connected&&g.disconnect();case 12:case"end":return n.stop()}}),n,null,[[1,7]])})))()},invalidatesTags:[{type:u.Z.SOCKET}]})}},overrideExisting:!0}),j=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&g.connected){e.next=6;break}return console.log("Socket not connected or initialized, attempting to reconnect..."),e.next=4,y.endpoints.subscribeToEvents.initiate({});case 4:return e.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return g&&g.connected?(g.emit(t.channel,t.data,(function(){console.log("===Message Sent Successfully====")})),console.log("Message Sent.......",t.channel)):console.log("Socket not connected, message not sent."),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},66838:function(e,t,n){n.d(t,{s:function(){return a}});var i=n(30625),l=n(46417),a=function(e){var t=e.children;return e.isLoading?(0,l.jsx)("div",{className:"flex items-center justify-center ",children:(0,l.jsx)(i.Z,{})}):(0,l.jsx)("div",{children:t})}},15733:function(e,t,n){var i=n(68309),l=(n(47313),n(46417));t.Z=function(e){return e.onRefetch,(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 space-y-5",children:[(0,l.jsx)(i.$y,{}),(0,l.jsx)("span",{className:"text-lg font-bold text-primary-dark",children:" Empty Record"})]})}},54982:function(e,t,n){n.d(t,{e:function(){return l},z:function(){return i}});var i={high:"#FF0F00",low:"#4FB664",medium:"#F8931F",active:"#4FB664"},l={high:"#FFE3E6",low:"#ECF7EE",medium:"#FFF7ED",active:"#ECF7EE"}},82101:function(e,t,n){n.d(t,{Po:function(){return a},vI:function(){return i},vJ:function(){return l}});var i=function(e){return e.CONNECTION="connection",e.DISCONNECT="disconnect",e.JOIN_MEETING_SESSION="join_meeting_session",e.START_MEETING_SESSION="start_meeting_session",e.RESUME_MEETING_SESSION="resume_meeting_session",e.MEETING_SESSION_BROADCAST="meeting_session_broadcast",e.MEETING_SESSION_MODULE_UPDATE="meeting_session_module_update",e.MEETING_SESSION_RATINGS="meeting_session_ratings",e}({}),l=function(e){return e.MEETING_STARTED="MEETING_STARTED",e.MEETING_ENDED="MEETING_ENDED",e.ACTION_ITEM="ACTION_ITEM",e.GOAL="GOAL",e.HEADLINE="HEADLINE",e.ISSUE="ISSUE",e.METRIC="METRIC",e.TANGENT="TANGENT",e.CHECK_INS="CHECK_INS",e.WRAP_UPS="WRAP_UPS",e}({}),a=function(e){return e.RATINGS="RATINGS",e}({})},14372:function(e,t,n){n.r(t),n.d(t,{default:function(){return Je}});var i=n(4942),l=n(1413),a=n(29439),r=n(45987),o=n(47313),s=n(14409),d=n(74460),c=n(50858),u=n(66838),v=n(2135),m=n(46417),h=function(e){var t=e.moduleHandler,n=(e.summaryData,e.link),i=e.isLoading,l=e.children;return(0,m.jsxs)("div",{className:"h-full pb-6 px-3 rounded-2xl bg-white flex flex-col ",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center w-full p-6 ",children:[(0,m.jsx)("h4",{className:"md:text-sm font-semibold text-[#45464E]",children:t.name}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{className:"p-2 font-semibold border rounded-lg md:text-sm border-gray-dark text-gray",onClick:t.action,children:"Add New"})})]}),(0,m.jsx)(u.s,{isLoading:i,children:(0,m.jsx)("div",{className:"w-full h-full  px-3",children:(0,m.jsx)("div",{className:"h-full overflow-y-auto px-2",children:l})})}),(0,m.jsx)("div",{className:" mt-auto flex justify-end items-center mr-4 text-sm md:text-base text-gray pt-2",children:(0,m.jsx)(v.rU,{to:n,children:"View all"})})]})},x=n(74165),p=n(15861),f=n(79429),g=n(97931),b=n(27356),y=n(57406),j=n(21933),Z=n(44922),N=n(31271),w=n(36059),S=n(71158),_=n(40628),E=n(96215),T=n(71575),I=n(61171),M=n(35925);function k(e){var t,n,i,r=e.show,s=e.handleToggleGoal,d=(0,Z.Z)().workspace,c=(0,_.Z)().organization.organization,u=(0,S.Z)().meeting_list,v=(0,N.Z)().toggleLoadingModal,h=T.P.useCreateHeadlinesMutation(),k=(0,a.Z)(h,1)[0],C=(0,f.TA)({initialValues:{title:"",details:"",meeting:"",assignee:""},validateOnChange:!0,validateOnBlur:!0,validationSchema:j.Ry().shape({title:j.Z_().label(" Title").required(),details:j.Z_().label("Details").optional(),meeting:j.Z_().label("Meeting").required(),assignee:j.Z_().label("Reporter").required()}),onSubmit:function(){var e=(0,p.Z)((0,x.Z)().mark((function e(t){var n,i;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,k((0,l.Z)((0,l.Z)({},t),{},{organization:null===c||void 0===c?void 0:c._id,workspace:null===d||void 0===d?void 0:d.id})).unwrap();case 4:n=e.sent,s(),w.ZP.success(null===n||void 0===n?void 0:n.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),v(!1),w.ZP.error(null===e.t0||void 0===e.t0||null===(i=e.t0.data)||void 0===i?void 0:i.message);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}),A=I.W.useMeetingParticipantsQuery({meeting:null===C||void 0===C||null===(t=C.values)||void 0===t?void 0:t.meeting}),D=(0,o.useMemo)((function(){var e;return(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.data)||[]}),[A]);return(0,m.jsx)("section",{children:(0,m.jsx)("article",{children:(0,m.jsx)(E.Z,{open:r,name:"Create Headlines",handleToggleDrawer:s,children:(0,m.jsx)("div",{className:"px-4",children:(0,m.jsxs)("form",{onSubmit:C.handleSubmit,children:[(0,m.jsx)("div",{children:(0,m.jsx)(b.Z,(0,l.Z)({type:"text",placeholder:"Enter title"},(0,y.PW)(C,"title")))}),(0,m.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,m.jsx)(g.ML,{handleChange:function(e){return C.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Headline details...."})}),(0,m.jsx)("div",{className:"w-full mt-4",children:(0,m.jsxs)("div",{className:"relative ",children:[(0,m.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Attach to Meeting"}),(0,m.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(n=C.values)||void 0===n?void 0:n.meeting},(0,y.PW)(C,"meeting")),{},{children:null===u||void 0===u?void 0:u.map((function(e){return(0,m.jsx)("option",{value:e.id,children:e.title},e.id)}))})),null!==C&&void 0!==C&&null!==(i=C.errors)&&void 0!==i&&i.meeting?(0,m.jsx)("span",{className:"text-[10px] text-error",children:C.errors.meeting}):null]})}),(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsx)(M.Z,{loading:A.isLoading,error:A.isError,onReload:A.refetch,children:function(){var e,t;return(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Reporter"}),(0,m.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Reporter",value:null===(e=C.values)||void 0===e?void 0:e.assignee},(0,y.PW)(C,"assignee")),{},{children:D.map((function(e){var t,n;return(0,m.jsx)("option",{value:null===(t=e.participant)||void 0===t?void 0:t._id,children:null===(n=e.participant)||void 0===n?void 0:n.email},null===e||void 0===e?void 0:e._id)}))})),null!==C&&void 0!==C&&null!==(t=C.errors)&&void 0!==t&&t.assignee?(0,m.jsx)("span",{className:"text-[10px] text-error",children:C.errors.assignee}):null]})}})}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,m.jsx)("button",{type:"button",onClick:s,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,m.jsx)("button",{disabled:!C.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}var C=n(40086),A=n(5069),D=n(93433),O=n(31095),P=n(54982),R=n(89434),G=n(15733),z=function(e){var t=e.header,n=e.tableData,i=e.handleEditItem,l=e.isError;return(0,m.jsx)("div",{className:"relative w-full overflow-x-auto overflow-y-hidden ",children:!l&&(null===n||void 0===n?void 0:n.length)<1||!n?(0,m.jsx)(G.Z,{}):(0,m.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 ",children:[(0,m.jsx)("thead",{className:"text-xs text-gray-700 capitalize bg-primary-lighter rounded ",children:(0,m.jsx)("tr",{className:" ",children:t.map((function(e,t){return(0,m.jsx)("th",{className:"w-full px-6  py-3",children:null===e||void 0===e?void 0:e.header},t+1)}))})}),null===n||void 0===n?void 0:n.map((function(e,n){return(0,m.jsx)("tbody",{className:"overflow-x-auto ",children:(0,m.jsx)("tr",{className:"border-b cursor-pointer ",onClick:function(){return i(e)},children:t.map((function(t){return(0,m.jsx)("td",{className:"w-fit px-6 py-4 overflow-x-auto",children:(0,m.jsx)("span",{className:"overflow-hidden truncate text-ellipsis",children:e[null===t||void 0===t?void 0:t.accessorKey]})},t.accessorKey)}))},n+1)},n)}))]})})},L=n(89907),W=n(16922),F=n(68309);function q(e){e.user;var t,n=(0,o.useState)(!1),i=(0,a.Z)(n,2),r=i[0],s=i[1],d=(0,o.useRef)(null),c=(0,Z.Z)().workspace,u=(0,_.Z)().organization,v=[{header:"Assignee",accessorKey:"assignee"},{header:"Title",accessorKey:"title"},{header:"Status",accessorKey:"status"},{header:"Created",accessorKey:"created_at"}],h=L.z.useGetAllActionItemQuery({organization:null===u||void 0===u||null===(t=u.organization)||void 0===t?void 0:t._id,workspace:null===c||void 0===c?void 0:c.id});function x(e){d.current=e,s((function(e){return!e}))}var p=(0,o.useMemo)((function(){var e,t;return null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.slice(0,5).reduce((function(e,t){var n,i,a;return[].concat((0,D.Z)(e),[(0,l.Z)((0,l.Z)({},t),{},{assignee:null===t||void 0===t||null===(n=t.assignee)||void 0===n?void 0:n.email,assignee_full:null===t||void 0===t?void 0:t.assignee,created_at:(0,R.default)(new Date(null===t||void 0===t?void 0:t.created_at),"d/M/yyy"),status:(0,m.jsx)(O.Z,{sx:{width:40,height:30,fontSize:10,borderRadius:8,textTransform:"capitalize",color:P.z[null===t||void 0===t||null===(i=t.status)||void 0===i?void 0:i.toLowerCase()],backgroundColor:P.e[null===t||void 0===t||null===(a=t.status)||void 0===a?void 0:a.toLowerCase()]},children:null===t||void 0===t?void 0:t.status})})])}),[])}),[h]);return(0,m.jsxs)("article",{className:"overflow-hidden ",children:[(0,m.jsx)(M.Z,{loading:h.isLoading,error:h.isError,onReload:h.refetch,children:function(){return(null===p||void 0===p?void 0:p.length)>=1?(0,m.jsx)(z,{header:v,tableData:p,handleEditItem:x}):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full p-8 space-y-4",children:[(0,m.jsx)(F.Ou,{}),(0,m.jsx)("span",{className:"text-gray-400",children:"No Action item created"})]})}}),r?(0,m.jsx)(W.Z,{show:r,itemData:d.current,handleToggleGoal:x}):null]})}var U=n(79698);function V(e){e.user;var t,n=(0,o.useState)(!1),i=(0,a.Z)(n,2),r=i[0],s=i[1],d=(0,o.useRef)(null),c=(0,Z.Z)().workspace,u=(0,_.Z)().organization,v=[{header:"Reporter",accessorKey:"assignee"},{header:"Title",accessorKey:"title"},{header:"Details",accessorKey:"details"},{header:"Created",accessorKey:"created_at"}],h=T.P.useGetAllHeadlinesQuery({organization:null===u||void 0===u||null===(t=u.organization)||void 0===t?void 0:t._id,workspace:null===c||void 0===c?void 0:c.id});function x(e){d.current=e,s((function(e){return!e}))}var p=(0,o.useMemo)((function(){var e,t;return null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.slice(0,5).reduce((function(e,t){var n;return[].concat((0,D.Z)(e),[(0,l.Z)((0,l.Z)({},t),{},{assignee:null===t||void 0===t||null===(n=t.created_by)||void 0===n?void 0:n.email,created_at:(0,R.default)(new Date(null===t||void 0===t?void 0:t.created_at),"d/M/yyy")})])}),[])}),[h]);return(0,m.jsxs)("article",{children:[(0,m.jsx)(M.Z,{loading:h.isLoading,error:h.isError,onReload:null===h||void 0===h?void 0:h.refetch,children:function(){return(null===p||void 0===p?void 0:p.length)>=1?(0,m.jsx)(z,{header:v,tableData:p,handleEditItem:x}):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full p-8 space-y-4",children:[(0,m.jsx)(F.Ou,{}),(0,m.jsx)("span",{className:"text-gray-400",children:"No Headline item created"})]})}}),r?(0,m.jsx)(U.Z,{show:r,itemData:d.current,handleToggleGoal:x}):null]})}var B=n(66902),H=n(45838);function K(e){e.user;var t,n=(0,o.useState)(!1),i=(0,a.Z)(n,2),r=i[0],s=i[1],d=(0,o.useRef)(null),c=(0,Z.Z)().workspace,u=(0,_.Z)().organization,v=[{header:"Reporter",accessorKey:"assignee"},{header:"Title",accessorKey:"title"},{header:"Created",accessorKey:"created_at"},{header:"Priority",accessorKey:"priority"}],h=B.D.useGetAllIssuesQuery({organization:null===u||void 0===u||null===(t=u.organization)||void 0===t?void 0:t._id,workspace:null===c||void 0===c?void 0:c.id});function x(e){d.current=e,s((function(e){return!e}))}var p=(0,o.useMemo)((function(){var e,t;return null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.slice(0,5).reduce((function(e,t){var n,i,a;return[].concat((0,D.Z)(e),[(0,l.Z)((0,l.Z)({},t),{},{assignee:null===t||void 0===t||null===(n=t.created_by)||void 0===n?void 0:n.email,created_at:(0,R.default)(new Date(null===t||void 0===t?void 0:t.created_at),"d/M/yyy"),priority:(0,m.jsx)(O.Z,{sx:{width:40,height:30,fontSize:10,borderRadius:8,textTransform:"capitalize",color:P.z[null===t||void 0===t||null===(i=t.priority)||void 0===i?void 0:i.toLowerCase()],backgroundColor:P.e[null===t||void 0===t||null===(a=t.priority)||void 0===a?void 0:a.toLowerCase()]},children:null===t||void 0===t?void 0:t.priority})})])}),[])}),[h]);return(0,m.jsxs)("article",{className:"overflow-hidden ",children:[(0,m.jsx)(M.Z,{loading:h.isLoading,error:h.isError,onReload:h.refetch,children:function(){return(null===p||void 0===p?void 0:p.length)>=1?(0,m.jsx)(z,{header:v,tableData:p,handleEditItem:x}):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full p-8 space-y-4",children:[(0,m.jsx)(F.n4,{}),(0,m.jsx)("span",{className:"text-gray-400",children:"No Topic item created"})]})}}),r?(0,m.jsx)(H.Z,{show:r,itemData:d.current,handleToggleGoal:x}):null]})}var Q=n(3379),$=n(63585),J=n(30168),X=n(63366),Y=n(87462),ee=n(94146),te=n(8007),ne=n(30686),ie=n(88552),le=n(91615),ae=n(19860),re=n(17592),oe=n(77342),se=n(14363),de=n(1167);function ce(e){return(0,de.ZP)("MuiLinearProgress",e)}(0,se.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var ue,ve,me,he,xe,pe,fe,ge,be,ye,je,Ze,Ne=["className","color","value","valueBuffer","variant"],we=(0,ne.F4)(fe||(fe=ue||(ue=(0,J.Z)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),Se=(0,ne.F4)(ge||(ge=ve||(ve=(0,J.Z)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),_e=(0,ne.F4)(be||(be=me||(me=(0,J.Z)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),Ee=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,ie.$n)(e.palette[t].main,.62):(0,ie._j)(e.palette[t].main,.5)},Te=(0,re.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,le.Z)(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,Y.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Ee(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),Ie=(0,re.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat((0,le.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,i=Ee(n,t.color);return(0,Y.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,ne.iv)(ye||(ye=he||(he=(0,J.Z)(["\n    animation: "," 3s infinite linear;\n  "]))),_e)),Me=(0,re.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,le.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,Y.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&(0,ne.iv)(je||(je=xe||(xe=(0,J.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),we)})),ke=(0,re.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,le.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,Y.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:Ee(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&(0,ne.iv)(Ze||(Ze=pe||(pe=(0,J.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),Se)})),Ce=o.forwardRef((function(e,t){var n=(0,oe.Z)({props:e,name:"MuiLinearProgress"}),i=n.className,l=n.color,a=void 0===l?"primary":l,r=n.value,o=n.valueBuffer,s=n.variant,d=void 0===s?"indeterminate":s,c=(0,X.Z)(n,Ne),u=(0,Y.Z)({},n,{color:a,variant:d}),v=function(e){var t=e.classes,n=e.variant,i=e.color,l={root:["root","color".concat((0,le.Z)(i)),n],dashed:["dashed","dashedColor".concat((0,le.Z)(i))],bar1:["bar","barColor".concat((0,le.Z)(i)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,le.Z)(i)),"buffer"===n&&"color".concat((0,le.Z)(i)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,te.Z)(l,ce,t)}(u),h=(0,ae.Z)(),x={},p={bar1:{},bar2:{}};if("determinate"===d||"buffer"===d)if(void 0!==r){x["aria-valuenow"]=Math.round(r),x["aria-valuemin"]=0,x["aria-valuemax"]=100;var f=r-100;"rtl"===h.direction&&(f=-f),p.bar1.transform="translateX(".concat(f,"%)")}else 0;if("buffer"===d)if(void 0!==o){var g=(o||0)-100;"rtl"===h.direction&&(g=-g),p.bar2.transform="translateX(".concat(g,"%)")}else 0;return(0,m.jsxs)(Te,(0,Y.Z)({className:(0,ee.Z)(v.root,i),ownerState:u,role:"progressbar"},x,{ref:t},c,{children:["buffer"===d?(0,m.jsx)(Ie,{className:v.dashed,ownerState:u}):null,(0,m.jsx)(Me,{className:v.bar1,ownerState:u,style:p.bar1}),"determinate"===d?null:(0,m.jsx)(ke,{className:v.bar2,ownerState:u,style:p.bar2})]}))})),Ae=n(61689),De=n(50567),Oe=n(50514),Pe=n(23854),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=(0,o.useState)(null),n=(0,a.Z)(t,2),i=n[0],l=n[1];return(0,o.useEffect)((function(){var t=function(){var t=(0,p.Z)((0,x.Z)().mark((function t(){var n,i,a,r,o,s,d;return(0,x.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n={year:"numeric",month:"numeric",day:"numeric"},i=new Intl.DateTimeFormat(e,n),a=i.resolvedOptions(),r=a.year,o=a.month,s=a.day,d=[o,s,r].join("-"),l(d)}catch(c){console.error("Error fetching user locale date format:",c),l(null)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),i},Ge=n(38707),ze=n(91771);function Le(e){var t=e.data;e.showButton;console.log(t,"qwerty");var n=(0,o.useState)(!1),i=(0,a.Z)(n,2),l=i[0],r=i[1],s=(Re(),(0,De.default)(new Date,(0,Oe.default)(t.due_date))),d=(null===t||void 0===t?void 0:t.milestones)||[],c=d.some((function(e){return!e.is_completed})),u=d.every((function(e){return e.is_completed})),v=u&&s,h=(0,o.useMemo)((function(){var e=c?"OFF TRACK":u&&!v?"ON TRACK":u?"DONE":"UNLNOWN";return{status:e,color:"DONE"===e?"border-success text-success":"OFF TRACK"===e?"border-error text-error":"ON TRACK"===e?"text-primary border-primary":"text-gray-500 border-gray-900",bgColor:"DONE"===e?"#09AF6A":"OFF TRACK"===e?"#CA0303":"ON TRACK"===e?"#15B9FF":"#DADADA"}}),[u,v,c]),x=new Date,p=(0,Pe.Z)(new Date(t.due_date),new Date(t.start_date)),f=(0,Pe.Z)(x,new Date(t.start_date)),g=Math.round(f/p*100||0);g=Math.min(100,Math.max(0,g));var b=null===t||void 0===t?void 0:t.milestones.filter((function(e){return!0===e.is_completed})),y=Math.round(b.length/(null===t||void 0===t?void 0:t.milestones.length)*100);return(0,m.jsxs)("div",{className:"flex flex-row items-center  justify-between ",children:[(0,m.jsxs)("div",{className:"basis-[100%]  flex items-center w-full gap-x-4",children:[(0,m.jsx)($.Z,{sx:{height:36,width:36}}),(0,m.jsxs)("div",{className:"flex flex-col flex-1 space-y-2",children:[(0,m.jsx)("div",{children:t.title}),(0,m.jsxs)("div",{className:"flex flex-row items-center flex-1 space-x-2 ",children:[(0,m.jsx)(Ce,{value:y,variant:"determinate",sx:{height:3.75,borderRadius:1,width:"100%",backgrounded:"red","& .MuiLinearProgress-bar":{backgroundColor:h.bgColor}}}),100!==y?(0,m.jsx)("span",{className:"".concat(h.color),children:"".concat(y,"%")}):(0,m.jsx)("img",{src:ze.Z,className:"ml-2",alt:"completed"})]})]})]}),(0,m.jsx)("div",{className:"basis-[30%] w-full flex flex-row items-center  justify-center mt-8",children:(0,m.jsxs)("div",{className:"flex flex-row items-center justify-center gap-x-4 p-1 ",children:[(0,m.jsx)(Ae.Z,{title:"Due date",placement:"top",children:(0,m.jsx)("span",{children:(0,R.default)(new Date(t.due_date),"dd-MM-yyyy")})}),(0,m.jsx)(Ae.Z,{title:"Edit Goal",placement:"bottom",children:(0,m.jsx)("span",{onClick:function(){r(!0)},children:(0,m.jsx)(F.dY,{})})})]})}),l?(0,m.jsx)(Ge.Z,{show:l,handleToggleGoal:function(){r(!1)},itemData:t}):null]})}function We(e){e.meetingInfo,e.user_id;var t,n=(0,_.Z)().organization,i=(0,Z.Z)().workspace,l=Q.j.useAllGoalsQuery({organization:null===n||void 0===n||null===(t=n.organization)||void 0===t?void 0:t._id,workspace:null===i||void 0===i?void 0:i.id}),a=(0,o.useMemo)((function(){var e,t;return null===l||void 0===l||null===(e=l.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.slice(0,5)}),[l]);return(0,m.jsx)("section",{className:"overflow-hidden",children:(0,m.jsx)("article",{className:"flex flex-col space-y-4",children:(0,m.jsx)(M.Z,{loading:l.isLoading,error:l.isError,onReload:l.refetch,children:function(){return(null===a||void 0===a?void 0:a.length)>=1?null===a||void 0===a?void 0:a.map((function(e){return(0,m.jsx)("div",{children:(0,m.jsx)(Le,{data:e})},e.id)})):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full p-8 space-y-4",children:[(0,m.jsx)(F.h$,{}),(0,m.jsx)("span",{className:"text-gray-400",children:"No Goal item created"})]})}})})})}var Fe=function(e){var t=e.name,n=e.details,i=Object.keys(n||{}),l=Object.values(n||{});return(0,m.jsx)("div",{className:"flex flex-col flex-1 px-4 py-2  rounded-lg shadow-lg",children:(0,m.jsxs)("div",{className:"flex flex-col justify-between flex-1 pb-4 mt-3 text-xs ",children:[(0,m.jsx)("div",{children:(0,m.jsx)("h3",{className:"text-base font-bold capitalize text-gray-light",children:t})}),(0,m.jsx)("div",{className:"flex flex-row flex-wrap justify-between flex-1 h-16 px-1 mt-3 ",children:null===i||void 0===i?void 0:i.map((function(e,t){return(0,m.jsx)("div",{className:"border-l-2 ".concat("removed"===e||"deactivated"===e?"  border-l-error-light":"active"===e?"border-l-success-light":"suspended"===e?"border-l-pending-light ":"border-l-primary"," px-2 rounded-lg w-[90px] shadow-md shadow-gray-300 "),children:(0,m.jsxs)("div",{className:"flex flex-col justify-between p-2 text-xs",children:[(0,m.jsx)("h3",{className:"text-xs text-gray-700 capitalize",children:e}),(0,m.jsx)("p",{className:"text-lg font-extrabold text-black lg:text-xl",children:l[t]||0})]})},t)}))})]})})},qe=n(7133),Ue=n(81676),Ve=n(25376),Be=n(47889);function He(e){e.user;var t,n=(0,o.useState)(!1),i=(0,a.Z)(n,2),r=i[0],s=i[1],d=(0,_.Z)().organization,c=(0,Z.Z)().workspace,u=(0,o.useRef)({}),v=[{header:"Assignee",accessorKey:"assignee"},{header:"Title",accessorKey:"title"},{header:"Created",accessorKey:"created_at"},{header:"Details",accessorKey:"details"},{header:"Frequency",accessorKey:"frequency"},{header:"Type",accessorKey:"type"},{header:"Unit",accessorKey:"unit"}],h=Ve.t.useGetAllMetricQuery({organization:null===d||void 0===d||null===(t=d.organization)||void 0===t?void 0:t._id,workspace:null===c||void 0===c?void 0:c.id}),x=(0,o.useMemo)((function(){var e,t;return null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.slice(0,5).reduce((function(e,t){var n;return[].concat((0,D.Z)(e),[(0,l.Z)((0,l.Z)({},t),{},{assignee:null===t||void 0===t||null===(n=t.assignee)||void 0===n?void 0:n.email,assignee_full:t.assignee,created_at:(0,R.default)(new Date(null===t||void 0===t?void 0:t.created_at),"d/M/yyy")})])}),[])}),[h]);function p(e){u.current=e,s((function(e){return!e}))}return(0,m.jsxs)("section",{className:"overflow-hidden  h-full ",children:[(0,m.jsx)("article",{className:"flex flex-col gap-y-4",children:(0,m.jsx)(M.Z,{loading:h.isLoading,error:h.isError,onReload:h.refetch,children:function(){return(null===x||void 0===x?void 0:x.length)>=1?(0,m.jsx)(z,{header:v,tableData:x,handleEditItem:p}):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full p-8 space-y-4",children:[(0,m.jsx)(F.tW,{}),(0,m.jsx)("span",{className:"text-gray-400",children:"No Metric item created"})]})}})}),r?(0,m.jsx)(Be.Z,{show:r,itemData:null===u||void 0===u?void 0:u.current,handleToggleGoal:function(){s((function(e){return!e}))}}):null]})}var Ke=n(681),Qe=["workspaces","users"],$e={showIssues:!1,showActionItem:!1,showMetrics:!1,showGoals:!1,showHeadlines:!1};var Je=function(){var e=(0,C.Z)().user,t=(0,_.Z)().organization,n=((0,Z.Z)().workspace,A.M.useDashboardSummaryQuery({organization:null===t||void 0===t?void 0:t.id})),u=(0,o.useMemo)((function(){var e;if(null!==n&&void 0!==n&&n.data){var t=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.data;return{workspaces:t.workspaces,users:t.users,moduleSummary:(0,r.Z)(t,Qe)}}}),[n]),v=(0,o.useState)($e),x=(0,a.Z)(v,2),p=x[0],f=x[1],g=(0,o.useCallback)((function(e){return function(){f((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,i.Z)({},e,!t[e]))}))}}),[]),b=(0,o.useMemo)((function(){var t,n,i,l,a;return[{id:1,name:"Action Items",action:g("showActionItem"),summaryData:null===u||void 0===u||null===(t=u.moduleSummary)||void 0===t?void 0:t.action_items,children:(0,m.jsx)(q,{user:e}),link:Ue.s2.REPORT_ACTION_ITEM},{id:2,name:"Goals",action:g("showGoal"),summaryData:null===u||void 0===u||null===(n=u.moduleSummary)||void 0===n?void 0:n.goals,children:(0,m.jsx)(We,{user:e}),link:Ue.s2.REPORT_GOALS},{id:3,name:"Metrics",action:g("showMetric"),summaryData:null===u||void 0===u||null===(i=u.moduleSummary)||void 0===i?void 0:i.metrics,children:(0,m.jsx)(He,{user:e}),link:Ue.s2.REPORT_METRICS},{id:4,name:"Topic",action:g("showIssues"),summaryData:null===u||void 0===u||null===(l=u.moduleSummary)||void 0===l?void 0:l.issues,children:(0,m.jsx)(K,{user:e}),link:Ue.s2.REPORT_ISSUES},{id:5,name:"Headlines",action:g("showHeadlines"),summaryData:null===u||void 0===u||null===(a=u.moduleSummary)||void 0===a?void 0:a.headlines,children:(0,m.jsx)(V,{user:e}),link:Ue.s2.REPORT_HEADLINES}]}),[u]);return(0,m.jsx)("div",{children:(0,m.jsxs)("section",{children:[(0,m.jsxs)("article",{children:[(0,m.jsx)(qe.Z,{permissions:[Ue.xI.OWNER,Ue.xI.ORGANIZATION_ADMIN],children:(0,m.jsxs)("div",{className:"flex flex-row flex-wrap items-center flex-1 mb-8 gap-x-4 ",children:[(0,m.jsx)(M.Z,{loading:null===n||void 0===n?void 0:n.isLoading,error:n.isError,onReload:n.refetch,children:function(){return(0,m.jsx)(Fe,{name:"Workspace",details:null===u||void 0===u?void 0:u.workspaces})}}),(0,m.jsx)(M.Z,{loading:null===n||void 0===n?void 0:n.isLoading,error:n.isError,onReload:n.refetch,children:function(){return(0,m.jsx)(Fe,{name:"Users",details:null===u||void 0===u?void 0:u.users})}})]})}),(0,m.jsx)("div",{className:"grid w-full h-full grid-cols-1 gap-4 lg:grid-cols-2 ",children:b.map((function(e){return(0,m.jsx)("div",{children:(0,m.jsx)(h,{moduleHandler:e,summaryData:null===e||void 0===e?void 0:e.summaryData,link:null===e||void 0===e?void 0:e.link,isLoading:(null===n||void 0===n?void 0:n.isLoading)||n.isFetching,children:e.children})},e.id)}))})]}),p.showGoal?(0,m.jsx)(s.Z,{show:p.showGoal,handleToggleGoal:g("showGoal")}):null,p.showIssues?(0,m.jsx)(d.Z,{show:p.showIssues,handleToggleGoal:g("showIssues")}):null,p.showActionItem?(0,m.jsx)(c.Z,{show:p.showActionItem,handleToggleGoal:g("showActionItem")}):null,p.showMetric?(0,m.jsx)(Ke.Z,{show:p.showMetric,handleToggleGoal:g("showMetric")}):null,p.showHeadlines?(0,m.jsx)(k,{show:p.showHeadlines,handleToggleGoal:g("showHeadlines")}):null]})})}},16922:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(74165),l=n(1413),a=n(15861),r=n(29439),o=n(47313),s=n(79429),d=n(97931),c=n(27356),u=n(57406),v=n(21933),m=n(8094),h=n(1550),x=n(54299),p=n(52866),f=n(74268),g=n(31271),b=n(36059),y=n(96215),j=n(89907),Z=n(48475),N=n(82101),w=n(40086),S=n(61171),_=n(81676),E=n(35925),T=n(46417);function I(e){var t,n,I,M,k,C,A,D=e.show,O=e.handleToggleGoal,P=e.itemData,R=e.meeting,G=e.hidButtons,z=void 0!==G&&G,L=e.header,W=void 0===L?"Update Action item":L,F=(0,w.Z)().user,q=(0,g.Z)().toggleLoadingModal,U=j.z.useUpdateActionItemMutation(),V=(0,r.Z)(U,1)[0],B=S.W.useUserMeetingsQuery({}),H=(0,o.useMemo)((function(){var e;return null===B||void 0===B||null===(e=B.data)||void 0===e?void 0:e.data}),[B]),K=(0,s.TA)({initialValues:{title:null===P||void 0===P?void 0:P.title,details:null===P||void 0===P?void 0:P.details,priority:null===P||void 0===P?void 0:P.priority,due_date:new Date(null===P||void 0===P?void 0:P.due_date),assignee:(null===P||void 0===P||null===(t=P.assignee)||void 0===t?void 0:t._id)||"",status:(null===P||void 0===P?void 0:P.status)||"",meeting:(null===P||void 0===P||null===(n=P.meeting)||void 0===n?void 0:n._id)||""},validateOnChange:!0,validateOnBlur:!0,validationSchema:v.Ry().shape({title:v.Z_().label("Title").required(),details:v.Z_().label("Details").optional(),assignee:v.Z_().label("Assignee").required(),meeting:v.Z_().label("Meeting").required(),due_date:v.Z_().label("Action Item due date").required(),priority:v.Z_().label("Priority").oneOf(_.xi.map((function(e){return e.value}))).required()}),onSubmit:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,V((0,l.Z)((0,l.Z)({},t),{},{id:null===P||void 0===P?void 0:P.id})).unwrap();case 4:a=e.sent,O(),b.ZP.success((null===a||void 0===a?void 0:a.message)||"Action Ietm Updated Successfully"),(0,Z.T)({channel:N.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:_.G9.ACTION_ITEM,user_id:null===F||void 0===F?void 0:F.id,room_name:(null===P||void 0===P||null===(n=P.meeting)||void 0===n?void 0:n._id)||(null===R||void 0===R?void 0:R.id)}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),q(!1),b.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:q(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}),Q=S.W.useMeetingParticipantsQuery({meeting:null===P||void 0===P||null===(I=P.meeting)||void 0===I?void 0:I._id},{skip:!(null!==P&&void 0!==P&&null!==(M=P.meeting)&&void 0!==M&&M._id)}),$=(0,o.useMemo)((function(){var e;return(null===Q||void 0===Q||null===(e=Q.data)||void 0===e?void 0:e.data)||[]}),[Q]);return(0,T.jsx)("section",{children:(0,T.jsx)("article",{children:(0,T.jsx)(y.Z,{open:D,name:W,handleToggleDrawer:O,children:(0,T.jsx)("div",{className:"px-4",children:(0,T.jsxs)("form",{onSubmit:K.handleSubmit,children:[(0,T.jsx)("div",{children:(0,T.jsx)(c.Z,(0,l.Z)({type:"text",placeholder:"Enter title"},(0,u.PW)(K,"title")))}),(0,T.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,T.jsx)(d.ML,{handleChange:function(e){return K.setFieldValue("details",e.replace(/<[^>]*>/g,""))},value:K.values.details,className:"w-full h-40",placeholder:"Action Item details...."})}),(0,T.jsxs)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:[(0,T.jsx)(E.Z,{loading:null===B||void 0===B?void 0:B.isLoading,error:null===B||void 0===B?void 0:B.isError,onReload:B.refetch,children:function(){var e,t;return(0,T.jsxs)("div",{className:"relative ",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=K.values)||void 0===e?void 0:e.meeting},(0,u.PW)(K,"meeting")),{},{children:null===H||void 0===H?void 0:H.map((function(e){return(0,T.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==K&&void 0!==K&&null!==(t=K.errors)&&void 0!==t&&t.meeting?(0,T.jsx)("span",{className:"text-[10px] text-error",children:K.errors.meeting}):null]})}}),(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Assignee"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Assignee",value:null===(k=K.values)||void 0===k?void 0:k.assignee},(0,u.PW)(K,"assignee")),{},{children:$.map((function(e){var t,n;return(0,T.jsx)("option",{value:null===(t=e.participant)||void 0===t?void 0:t._id,children:null===(n=e.participant)||void 0===n?void 0:n.email},null===e||void 0===e?void 0:e._id)}))})),null!==K&&void 0!==K&&null!==(C=K.errors)&&void 0!==C&&C.assignee?(0,T.jsx)("span",{className:"text-[10px] text-error",children:K.errors.assignee}):null]})]}),(0,T.jsx)("div",{className:"grid grid-cols-2 gap-4 py-4 mt-1 ",children:(0,T.jsx)(m.Z,{selected:K.values.due_date,placeholder:"Due date",onSelect:function(e){return K.setFieldValue("due_date",e)}})}),(0,T.jsx)("div",{children:(0,T.jsxs)(h.Z,{className:"w-full my-2",children:[(0,T.jsx)("label",{children:"Priority"}),(0,T.jsx)(x.Z,(0,l.Z)((0,l.Z)({row:!0,"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"1",name:"radio-buttons-group"},(0,u.PW)(K,"priority")),{},{className:"flex flex-row w-full mt-1 text-black gap-x-4",children:_.xi.map((function(e){return(0,T.jsx)(p.Z,{value:e.value,control:(0,T.jsx)(f.Z,{}),label:e.name},e.id)}))}))]})}),(0,T.jsx)("div",{className:"flex flex-col my-2 ",children:(0,T.jsx)("div",{children:(0,T.jsxs)(h.Z,{className:"w-full my-2",children:[(0,T.jsx)("label",{children:"Status"}),(0,T.jsxs)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(A=K.values)||void 0===A?void 0:A.meeting},(0,u.PW)(K,"status")),{},{children:[(0,T.jsx)("option",{value:"",children:"Select status"}),null===_.Qy||void 0===_.Qy?void 0:_.Qy.map((function(e){return(0,T.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))]}))]})})}),z?(0,T.jsx)("button",{type:"button",onClick:O,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Close"}):(0,T.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,T.jsx)("button",{type:"button",onClick:O,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,T.jsx)("button",{disabled:!K.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},38707:function(e,t,n){n.d(t,{Z:function(){return k}});var i=n(93433),l=n(74165),a=n(1413),r=n(15861),o=n(29439),s=n(47313),d=n(79429),c=n(97931),u=n(27356),v=n(57406),m=n(21933),h=n(8094),x=n(44758),p=n(47131),f=n(44922),g=n(81676),b=n(57864),y=n(31271),j=n(36059),Z=n(40628),N=n(3379),w=n(96215),S=n(82101),_=n(48475),E=n(40086),T=n(61171),I=n(35925),M=n(46417);function k(e){var t,n,k,C,A,D,O,P,R,G,z,L,W,F=e.show,q=e.handleToggleGoal,U=e.itemData,V=(0,f.Z)().workspace,B=(0,E.Z)().user,H=(0,Z.Z)().organization.organization,K=(0,y.Z)().toggleLoadingModal,Q=N.j.useUpdateGoalMutation(),$=(0,o.Z)(Q,1)[0],J=(0,d.TA)({initialValues:{title:null===U||void 0===U?void 0:U.title,details:null===U||void 0===U?void 0:U.details,due_date:new Date(null===U||void 0===U?void 0:U.due_date),start_date:new Date(null===U||void 0===U?void 0:U.start_date),assignee:(null===U||void 0===U||null===(t=U.assignee)||void 0===t?void 0:t._id)||"",goal_type:null===U||void 0===U?void 0:U.goal_type,status:(null===U||void 0===U?void 0:U.status)||"PENDING",milestones:null===U||void 0===U?void 0:U.milestones,meeting:null===U||void 0===U||null===(n=U.meeting)||void 0===n?void 0:n._id},validateOnChange:!0,validateOnBlur:!0,validationSchema:m.Ry().shape({title:m.Z_().label("Goal title").required(),details:m.Z_().label("Goal details").optional(),assignee:m.Z_().label("Assignee").required("Select Assignee"),due_date:m.Z_().label("Due date").required(),goal_type:m.Z_().label("Goal Type").required(),status:m.Z_().label("Goal status").required(),milestones:m.IX().of(m.Ry().shape({name:m.Z_().required(),due_date:m.hT().transform((function(e){return new Date(e)})),is_completed:m.O7().optional()})).optional().min(1,"At least one milestone")}),onSubmit:function(){var e=(0,r.Z)((0,l.Z)().mark((function e(t){var n,i,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,e.next=4,$((0,a.Z)((0,a.Z)({},t),{},{id:null===U||void 0===U?void 0:U.id,organization:null===H||void 0===H?void 0:H._id,workspace:null===V||void 0===V?void 0:V.id})).unwrap();case 4:i=e.sent,q(),j.ZP.success(null===i||void 0===i?void 0:i.message),(0,_.T)({channel:S.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:g.G9.GOAL,user_id:null===B||void 0===B?void 0:B.id,room_name:null===U||void 0===U||null===(n=U.meeting)||void 0===n?void 0:n._id}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),K(!1),j.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:K(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}),X=T.W.useUserMeetingsQuery({}),Y=(0,s.useMemo)((function(){var e;return null===X||void 0===X||null===(e=X.data)||void 0===e?void 0:e.data}),[X]);return(0,M.jsx)("section",{children:(0,M.jsx)("article",{children:(0,M.jsx)(w.Z,{open:F,name:(null===U||void 0===U?void 0:U.title)||"Update Goal",handleToggleDrawer:q,children:(0,M.jsx)("div",{className:"px-4",children:(0,M.jsxs)("form",{onSubmit:J.handleSubmit,children:[(0,M.jsx)("div",{children:(0,M.jsx)(u.Z,(0,a.Z)({type:"text",placeholder:"Enter title"},(0,v.PW)(J,"title")))}),(0,M.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,M.jsx)(c.ML,{value:null===(k=J.values)||void 0===k?void 0:k.details,handleChange:function(e){return J.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal description...."})}),(0,M.jsxs)("div",{className:"grid w-full grid-cols-2 gap-4 py-4",children:[(0,M.jsx)(h.Z,{selected:J.values.start_date,placeholder:"Goal Start date",onSelect:function(e){return J.setFieldValue("start_date",e)},error:J.errors.start_date}),(0,M.jsx)(h.Z,{selected:J.values.due_date,placeholder:"Goal Due date",onSelect:function(e){return J.setFieldValue("due_date",e)},error:J.errors.due_date})]}),(0,M.jsxs)("div",{className:"grid content-center grid-cols-2 my-4 gap-x-4",children:[(0,M.jsx)(I.Z,{loading:null===X||void 0===X?void 0:X.isLoading,error:null===X||void 0===X?void 0:X.isError,onReload:X.refetch,children:function(){var e,t;return(0,M.jsxs)("div",{className:"relative ",children:[(0,M.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,M.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=J.values)||void 0===e?void 0:e.meeting},(0,v.PW)(J,"meeting")),{},{children:null===Y||void 0===Y?void 0:Y.map((function(e){return(0,M.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==J&&void 0!==J&&null!==(t=J.errors)&&void 0!==t&&t.meeting?(0,M.jsx)("span",{className:"text-[10px] text-error",children:J.errors.meeting}):null]})}}),(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Assignee"}),(0,M.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Assignee",value:null===(C=J.values)||void 0===C?void 0:C.assignee},(0,v.PW)(J,"assignee")),{},{children:null===V||void 0===V||null===(A=V.users)||void 0===A?void 0:A.map((function(e){var t,n;return(0,M.jsx)("option",{value:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t._id,children:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email},null===e||void 0===e?void 0:e.id)}))})),null!==J&&void 0!==J&&null!==(D=J.errors)&&void 0!==D&&D.assignee?(0,M.jsx)("span",{className:"text-[10px] text-error",children:J.errors.assignee}):null]})]}),(0,M.jsxs)("div",{className:"grid content-center grid-cols-2 gap-x-4",children:[(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Goal Type"}),(0,M.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Goal Type",value:null===(O=J.values)||void 0===O?void 0:O.goal_type},(0,v.PW)(J,"goal_type")),{},{children:(0,M.jsx)("option",{value:g.P.INDIVIDUAL,children:"Individual"})})),null!==J&&void 0!==J&&null!==(P=J.errors)&&void 0!==P&&P.goal_type?(0,M.jsx)("span",{className:"text-[10px] text-error",children:J.errors.goal_type}):null]}),(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Goal Status"}),(0,M.jsx)("select",(0,a.Z)((0,a.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Goal Status",value:null===(R=J.values)||void 0===R?void 0:R.status,default:null===(G=J.values)||void 0===G?void 0:G.status},(0,v.PW)(J,"status")),{},{children:Object.values(g._O).map((function(e){return(0,M.jsx)("option",{value:e,children:(0,v.fm)(null===e||void 0===e?void 0:e.replace("_"," "))})}))})),null!==J&&void 0!==J&&null!==(z=J.errors)&&void 0!==z&&z.status?(0,M.jsx)("span",{className:"text-[10px] text-error",children:J.errors.status}):null]})]}),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)("label",{htmlFor:"Milestones",children:"Milestones"}),(0,M.jsxs)("div",{className:"py-4 ",children:[null===(L=J.values)||void 0===L||null===(W=L.milestones)||void 0===W?void 0:W.map((function(e,t){var n,l;return(0,M.jsxs)("div",{className:"grid grid-cols-2 mb-2 gap-x-4",children:[(0,M.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,M.jsx)(x.Z,(0,a.Z)({checked:null===(n=J.values)||void 0===n||null===(l=n.milestones[t])||void 0===l?void 0:l.is_completed},(0,v.PW)(J,"milestones.".concat([t],".is_completed")))),(0,M.jsx)(u.Z,(0,a.Z)({showBreak:!1,type:"text",placeholder:"Enter title"},(0,v.PW)(J,"milestones.".concat([t],".name"))))]}),(0,M.jsxs)("div",{className:"flex items-center w-full",children:[(0,M.jsx)(h.Z,{selected:new Date(J.values.milestones[t].due_date),placeholder:"Due date",onSelect:function(e){return J.setFieldValue("milestones.".concat([t],".due_date"),e)}}),(0,M.jsx)(p.Z,{children:(0,M.jsx)(b.SV5,{className:"text-red-600",onClick:function(){return function(e){J.setFieldValue("milestones",(0,i.Z)(J.values.milestones.filter((function(t,n){return n!==e}))))}(t)}})})]})]},t+1)})),(0,M.jsx)("span",{className:"cursor-pointer text-primary",onClick:function(){J.setFieldValue("milestones",[].concat((0,i.Z)(J.values.milestones),[{name:"",due_date:new Date}]))},children:"+ Add more milestone"})]})]}),(0,M.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,M.jsx)("button",{type:"button",onClick:q,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,M.jsx)("button",{disabled:!J.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},79698:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(74165),l=n(1413),a=n(15861),r=n(29439),o=n(79429),s=n(97931),d=n(27356),c=n(57406),u=n(21933),v=n(31271),m=n(36059),h=n(96215),x=n(71575),p=n(48475),f=n(82101),g=n(40086),b=n(61171),y=n(47313),j=n(81676),Z=n(35925),N=n(46417);function w(e){var t,n,w=e.show,S=e.handleToggleGoal,_=e.itemData,E=e.header,T=void 0===E?"Update Headlines":E,I=e.hidButtons,M=void 0!==I&&I,k=(0,g.Z)().user,C=(0,v.Z)().toggleLoadingModal,A=x.P.useUpdateHeadlineMutation(),D=(0,r.Z)(A,1)[0],O=b.W.useUserMeetingsQuery({}),P=(0,y.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.data}),[O]),R=(0,o.TA)({initialValues:{title:null===_||void 0===_?void 0:_.title,details:null===_||void 0===_?void 0:_.details,meeting:(null===_||void 0===_||null===(t=_.meeting)||void 0===t?void 0:t._id)||""},validateOnChange:!0,validateOnBlur:!0,validationSchema:u.Ry().shape({title:u.Z_().label(" Title").required(),details:u.Z_().label("Details").optional(),meeting:u.Z_().label("Meeting").required()}),onSubmit:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,D((0,l.Z)((0,l.Z)({},t),{},{status:"ARCHIVED",id:null===_||void 0===_?void 0:_.id})).unwrap();case 4:a=e.sent,S(),m.ZP.success(null===a||void 0===a?void 0:a.message),(0,p.T)({channel:f.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:j.G9.HEADLINE,user_id:null===k||void 0===k?void 0:k.id,room_name:null===_||void 0===_||null===(n=_.meeting)||void 0===n?void 0:n._id}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C(!1),m.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:C(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()});return(0,N.jsx)("section",{children:(0,N.jsx)("article",{children:(0,N.jsx)(h.Z,{open:w,name:T,handleToggleDrawer:S,children:(0,N.jsx)("div",{className:"px-4",children:(0,N.jsxs)("form",{onSubmit:R.handleSubmit,children:[(0,N.jsx)("div",{children:(0,N.jsx)(d.Z,(0,l.Z)({type:"text",placeholder:"Enter title"},(0,c.PW)(R,"title")))}),(0,N.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,N.jsx)(s.ML,{value:null===(n=R.values)||void 0===n?void 0:n.details,handleChange:function(e){return R.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal details...."})}),(0,N.jsx)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:(0,N.jsx)(Z.Z,{loading:null===O||void 0===O?void 0:O.isLoading,error:null===O||void 0===O?void 0:O.isError,onReload:O.refetch,children:function(){var e,t;return(0,N.jsxs)("div",{className:"relative ",children:[(0,N.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,N.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=R.values)||void 0===e?void 0:e.meeting},(0,c.PW)(R,"meeting")),{},{children:null===P||void 0===P?void 0:P.map((function(e){return(0,N.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==R&&void 0!==R&&null!==(t=R.errors)&&void 0!==t&&t.meeting?(0,N.jsx)("span",{className:"text-[10px] text-error",children:R.errors.meeting}):null]})}})}),M?(0,N.jsx)("button",{type:"button",onClick:S,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Close"}):(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,N.jsx)("button",{type:"button",onClick:S,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,N.jsx)("button",{disabled:!R.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},71575:function(e,t,n){n.d(t,{P:function(){return s}});var i=n(45987),l=n(20905),a=n(84537),r=n(22482),o=["id"],s=l.Te.injectEndpoints({endpoints:function(e){return{createHeadlines:e.mutation({query:function(e){return{url:a.A.HEADLINES,method:"POST",body:e}},invalidatesTags:[{type:r.Z.HEADLINES},{type:r.Z.MEETINGS}]}),updateHeadline:e.mutation({query:function(e){var t=e.id,n=(0,i.Z)(e,o);return{url:"".concat(a.A.HEADLINES,"/").concat(t),method:"PATCH",body:n}},invalidatesTags:[{type:r.Z.HEADLINES},{type:r.Z.MEETINGS}]}),deleteHeadline:e.mutation({query:function(e){return{url:"".concat(a.A.HEADLINES,"/").concat(e),method:"DELETE"}},invalidatesTags:[{type:r.Z.HEADLINES}]}),getAllHeadlines:e.query({query:function(e){return{url:"".concat(a.A.HEADLINES),method:"GET",params:e}},providesTags:[{type:r.Z.HEADLINES}]})}}})},45838:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(74165),l=n(1413),a=n(15861),r=n(29439),o=n(47313),s=n(79429),d=n(97931),c=n(27356),u=n(57406),v=n(21933),m=n(1550),h=n(54299),x=n(52866),p=n(74268),f=n(44758),g=n(81676),b=n(31271),y=n(36059),j=n(96215),Z=n(66902),N=n(48475),w=n(82101),S=n(40086),_=n(61171),E=n(35925),T=n(46417);function I(e){var t,n,I,M,k=e.show,C=e.itemData,A=e.handleToggleGoal,D=(0,S.Z)().user,O=(0,b.Z)().toggleLoadingModal,P=_.W.useUserMeetingsQuery({}),R=(0,o.useMemo)((function(){var e;return null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.data}),[P]),G=Z.D.useUpdateIssuesMutation(),z=(0,r.Z)(G,1)[0],L=(0,s.TA)({initialValues:{title:(null===C||void 0===C?void 0:C.title)||"",details:(null===C||void 0===C?void 0:C.details)||"",priority:null===C||void 0===C?void 0:C.priority,is_done:(null===C||void 0===C?void 0:C.is_done)||!1,meeting:(null===C||void 0===C||null===(t=C.meeting)||void 0===t?void 0:t._id)||""},validateOnChange:!0,validateOnBlur:!0,validationSchema:v.Ry().shape({title:v.Z_().label("Issue title").required(),details:v.Z_().label(" details").optional(),is_done:v.Z_().label("status").required(),priority:v.Z_().label("Priority").oneOf(null===g.xi||void 0===g.xi?void 0:g.xi.map((function(e){return e.value}))).required(),meeting:v.Z_().label("Meeting").required()}),onSubmit:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,z((0,l.Z)((0,l.Z)({},t),{},{id:null===C||void 0===C?void 0:C.id})).unwrap();case 4:a=e.sent,A(),y.ZP.success((null===a||void 0===a?void 0:a.message)||"Topic updated Successsfully"),(0,N.T)({channel:w.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:g.G9.ISSUE,user_id:null===D||void 0===D?void 0:D.id,room_name:null===C||void 0===C||null===(n=C.meeting)||void 0===n?void 0:n._id}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),O(!1),y.ZP.error(null===e.t0||void 0===e.t0||null===(r=e.t0.data)||void 0===r?void 0:r.message);case 14:O(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()});return(0,T.jsx)("section",{children:(0,T.jsx)("article",{children:(0,T.jsx)(j.Z,{open:k,name:"Update Topic",handleToggleDrawer:A,children:(0,T.jsx)("div",{className:"px-4",children:(0,T.jsxs)("form",{onSubmit:L.handleSubmit,children:[(0,T.jsx)("div",{children:(0,T.jsx)(c.Z,(0,l.Z)({type:"text",value:null===L||void 0===L||null===(n=L.values)||void 0===n?void 0:n.title,placeholder:"Enter title"},(0,u.PW)(L,"title")))}),(0,T.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,T.jsx)(d.ML,{value:null===(I=L.values)||void 0===I?void 0:I.details,handleChange:function(e){return L.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal details...."})}),(0,T.jsx)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:(0,T.jsx)(E.Z,{loading:null===P||void 0===P?void 0:P.isLoading,error:null===P||void 0===P?void 0:P.isError,onReload:null===P||void 0===P?void 0:P.refetch,children:function(){var e,t;return(0,T.jsxs)("div",{className:"relative ",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=L.values)||void 0===e?void 0:e.meeting},(0,u.PW)(L,"meeting")),{},{children:null===R||void 0===R?void 0:R.map((function(e){return(0,T.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==L&&void 0!==L&&null!==(t=L.errors)&&void 0!==t&&t.meeting?(0,T.jsx)("span",{className:"text-[10px] text-error",children:L.errors.meeting}):null]})}})}),(0,T.jsx)("div",{children:(0,T.jsxs)(m.Z,{className:"w-full my-2",children:[(0,T.jsx)("label",{children:"Priority"}),(0,T.jsx)(h.Z,(0,l.Z)((0,l.Z)({row:!0,defaultValue:1,"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group"},(0,u.PW)(L,"priority")),{},{className:"flex flex-row w-full mt-1 text-black gap-x-4",children:g.xi.map((function(e){return(0,T.jsx)(x.Z,{value:e.value,control:(0,T.jsx)(p.Z,{}),label:e.name},e.id)}))}))]})}),(0,T.jsxs)("div",{className:"flex flex-col my-2 ",children:[(0,T.jsx)("span",{className:"font-normal text-black",children:"Topic Status"}),(0,T.jsxs)("div",{className:"w-full px-3 py-2 mt-2 text-black border rounded-md border-gray-dark ",children:[(0,T.jsx)("span",{children:"Solved"}),(0,T.jsx)(f.Z,{checked:null===(M=L.values)||void 0===M?void 0:M.is_done,onChange:function(e){L.setFieldValue("is_done",e.target.checked)}})]})]}),(0,T.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,T.jsx)("button",{type:"button",onClick:A,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,T.jsx)("button",{disabled:!L.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Submit"})]})]})})})})})}},47889:function(e,t,n){n.d(t,{Z:function(){return M}});var i=n(74165),l=n(1413),a=n(45987),r=n(15861),o=n(29439),s=n(47313),d=n(79429),c=n(97931),u=n(27356),v=n(57406),m=n(21933),h=n(1550),x=n(16429),p=n(52866),f=n(44758),g=n(31271),b=n(36059),y=n(96215),j=n(25376),Z=n(48475),N=n(82101),w=n(40086),S=n(61171),_=n(81676),E=n(35925),T=n(46417),I=["assignee"];function M(e){var t,n,M,k,C,A,D,O,P,R,G,z,L,W,F,q,U,V,B,H=e.show,K=e.handleToggleGoal,Q=e.itemData,$=(0,w.Z)().user,J=(0,g.Z)().toggleLoadingModal,X=j.t.useUpdateMetricsMutation(),Y=(0,o.Z)(X,1)[0],ee=S.W.useMeetingParticipantsQuery({meeting:null===Q||void 0===Q||null===(t=Q.meeting)||void 0===t?void 0:t._id},{skip:!(null!==Q&&void 0!==Q&&null!==(n=Q.meeting)&&void 0!==n&&n._id)}),te=(0,s.useMemo)((function(){var e;return(null===ee||void 0===ee||null===(e=ee.data)||void 0===e?void 0:e.data)||[]}),[ee]),ne=(0,d.TA)({initialValues:{title:null===Q||void 0===Q?void 0:Q.title,details:null===Q||void 0===Q?void 0:Q.details,unit:null===Q||void 0===Q?void 0:Q.unit,value:null===Q||void 0===Q?void 0:Q.value,type:null===Q||void 0===Q?void 0:Q.type,assignee:(null===Q||void 0===Q||null===(M=Q.assignee_full)||void 0===M?void 0:M._id)||"",meeting:(null===Q||void 0===Q||null===(k=Q.meeting)||void 0===k?void 0:k._id)||"",controls:null===Q||void 0===Q?void 0:Q.controls},validateOnChange:!0,validateOnBlur:!0,validationSchema:m.Ry().shape({title:m.Z_().label("Metric Title").required(),details:m.Z_().label("Details").optional(),assignee:m.Z_().label("Assignee").required(),meeting:m.Z_().label("Meeting").required(),unit:m.Z_().label("Unit").oneOf(Object.values(_.JA)).required(),value:m.Z_().label("Value").required(),type:m.Z_().oneOf(Object.values(_.qT)).label("Metric type").required()}),onSubmit:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,o,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.assignee,n=(0,a.Z)(t,I),J(!0),e.prev=2,e.next=5,Y((0,l.Z)((0,l.Z)({},n),{},{id:null===Q||void 0===Q?void 0:Q.id})).unwrap();case 5:o=e.sent,K(),b.ZP.success(null===o||void 0===o?void 0:o.message),(0,Z.T)({channel:N.vI.MEETING_SESSION_MODULE_UPDATE,data:{event:_.G9.METRIC,user_id:null===$||void 0===$?void 0:$.id,room_name:null===Q||void 0===Q||null===(r=Q.meeting)||void 0===r?void 0:r._id}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),J(!1),b.ZP.error(null===e.t0||void 0===e.t0||null===(s=e.t0.data)||void 0===s?void 0:s.message);case 15:J(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()});console.log(ne.errors);var ie=S.W.useUserMeetingsQuery({}),le=(0,s.useMemo)((function(){var e;return null===ie||void 0===ie||null===(e=ie.data)||void 0===e?void 0:e.data}),[ie]);return(0,T.jsx)("section",{children:(0,T.jsx)("article",{children:(0,T.jsx)(y.Z,{open:H,name:"".concat(Q.title),handleToggleDrawer:K,children:(0,T.jsx)("div",{className:"px-4",children:(0,T.jsxs)("form",{onSubmit:ne.handleSubmit,children:[(0,T.jsx)("div",{children:(0,T.jsx)(u.Z,(0,l.Z)({type:"text",placeholder:"Name"},(0,v.PW)(ne,"title")))}),(0,T.jsx)("div",{className:"h-full mt-4 overflow-hidden ",children:(0,T.jsx)(c.ML,{value:null===(C=ne.values)||void 0===C?void 0:C.details,handleChange:function(e){return ne.setFieldValue("details",e.replace(/<[^>]*>/g,""))},className:"w-full h-40",placeholder:"Goal details...."})}),(0,T.jsxs)("div",{className:"grid content-center grid-cols-2 my-4 mt-6 gap-x-4",children:[(0,T.jsx)(E.Z,{loading:null===ie||void 0===ie?void 0:ie.isLoading,error:null===ie||void 0===ie?void 0:ie.isError,onReload:null===ie||void 0===ie?void 0:ie.refetch,children:function(){var e,t;return(0,T.jsxs)("div",{className:"relative ",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Meeting"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Meeting",value:null===(e=ne.values)||void 0===e?void 0:e.meeting},(0,v.PW)(ne,"meeting")),{},{children:null===le||void 0===le?void 0:le.map((function(e){return(0,T.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)}))})),null!==ne&&void 0!==ne&&null!==(t=ne.errors)&&void 0!==t&&t.meeting?(0,T.jsx)("span",{className:"text-[10px] text-error",children:ne.errors.meeting}):null]})}}),(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Assignee"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Assignee",value:null===(A=ne.values)||void 0===A?void 0:A.assignee},(0,v.PW)(ne,"assignee")),{},{children:te.map((function(e){var t,n;return(0,T.jsx)("option",{value:null===(t=e.participant)||void 0===t?void 0:t._id,children:null===(n=e.participant)||void 0===n?void 0:n.email},null===e||void 0===e?void 0:e._id)}))})),null!==ne&&void 0!==ne&&null!==(D=ne.errors)&&void 0!==D&&D.assignee?(0,T.jsx)("span",{className:"text-[10px] text-error",children:ne.errors.assignee}):null]})]}),(0,T.jsxs)("div",{className:"relative my-4 ",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Unit"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Unit",value:null===(O=ne.values)||void 0===O?void 0:O.unit},(0,v.PW)(ne,"unit")),{},{children:null===(P=Object.values(_.JA))||void 0===P?void 0:P.map((function(e){return(0,T.jsx)("option",{value:e,children:(0,v.fm)(e)},e)}))})),null!==ne&&void 0!==ne&&null!==(R=ne.errors)&&void 0!==R&&R.unit?(0,T.jsx)("span",{className:"text-[10px] text-error",children:ne.errors.unit}):null]}),(0,T.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4 mt-1 ",children:[(0,T.jsxs)("div",{className:"relative ",children:[(0,T.jsx)("span",{className:"text-gray-400 text-[10px] absolute ml-4 mt-1",children:"Type"}),(0,T.jsx)("select",(0,l.Z)((0,l.Z)({className:"w-full p-4 border border-black rounded-md",placeholder:"Type",value:null===(G=ne.values)||void 0===G?void 0:G.type},(0,v.PW)(ne,"type")),{},{children:null===(z=Object.values(_.qT))||void 0===z?void 0:z.map((function(e){return(0,T.jsx)("option",{value:e,children:(0,v.fm)(null===e||void 0===e?void 0:e.replace("_"," "))},e)}))})),null!==ne&&void 0!==ne&&null!==(L=ne.errors)&&void 0!==L&&L.type?(0,T.jsx)("span",{className:"text-[10px] text-error",children:ne.errors.type}):null]}),(0,T.jsx)(u.Z,(0,l.Z)({type:"text",showBreak:!1,placeholder:"Value"},(0,v.PW)(ne,"value")))]}),(0,T.jsx)("div",{className:"flex h-full mt-6",children:(0,T.jsxs)(h.Z,{component:"fieldset",variant:"standard",children:[(0,T.jsx)("label",{className:"mb-2 font-bold text-black",children:"Advanced controls"}),(0,T.jsxs)(x.Z,{children:[(0,T.jsx)(p.Z,{control:(0,T.jsx)(f.Z,(0,l.Z)({checked:null===(W=ne.values)||void 0===W||null===(F=W.controls)||void 0===F?void 0:F.is_show_average},(0,v.PW)(ne,"controls.is_show_average"))),label:"Show Average"}),(0,T.jsx)(p.Z,{control:(0,T.jsx)(f.Z,(0,l.Z)({checked:null===(q=ne.values)||void 0===q||null===(U=q.controls)||void 0===U?void 0:U.is_formula},(0,v.PW)(ne,"controls.is_formula"))),label:"Formula"}),(0,T.jsx)(p.Z,{control:(0,T.jsx)(f.Z,(0,l.Z)({checked:null===(V=ne.values)||void 0===V||null===(B=V.controls)||void 0===B?void 0:B.is_show_cumulative},(0,v.PW)(ne,"controls.is_show_cumulative"))),label:"Show Cumulative"})]})]})}),(0,T.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,T.jsx)("button",{type:"button",onClick:K,className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base ease-linear delay-100 border rounded-lg text-primary border-primary hover:bg-blue-800 hover:text-white",children:"Cancel"}),(0,T.jsx)("button",{disabled:!ne.isValid,type:"submit",className:"flex items-center justify-center w-full px-3 py-4 mt-12 mb-3 text-base text-white ease-linear delay-100 rounded-lg bg-primary hover:bg-blue-800",children:"Update"})]})]})})})})})}},31095:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(4942),l=n(63366),a=n(87462),r=n(47313),o=n(94146),s=n(80649),d=n(8007),c=n(88552),u=n(17592),v=n(77342),m=n(67999),h=n(91615),x=n(14363),p=n(1167);function f(e){return(0,p.ZP)("MuiButton",e)}var g=(0,x.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=r.createContext({});var y=r.createContext(void 0),j=n(46417),Z=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],N=function(e){return(0,a.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},w=(0,u.ZP)(m.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color))],t["size".concat((0,h.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,h.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,l,r=e.theme,o=e.ownerState,s="light"===r.palette.mode?r.palette.grey[300]:r.palette.grey[800],d="light"===r.palette.mode?r.palette.grey.A100:r.palette.grey[700];return(0,a.Z)({},r.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":(0,a.Z)({textDecoration:"none",backgroundColor:r.vars?"rgba(".concat(r.vars.palette.text.primaryChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:r.vars?"rgba(".concat(r.vars.palette[o.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(r.palette[o.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((r.vars||r).palette[o.color].main),backgroundColor:r.vars?"rgba(".concat(r.vars.palette[o.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(r.palette[o.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:r.vars?r.vars.palette.Button.inheritContainedHoverBg:d,boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2],backgroundColor:(r.vars||r).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(r.vars||r).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(r.vars||r).palette[o.color].main}}),"&:active":(0,a.Z)({},"contained"===o.variant&&{boxShadow:(r.vars||r).shadows[8]})},(0,i.Z)(t,"&.".concat(g.focusVisible),(0,a.Z)({},"contained"===o.variant&&{boxShadow:(r.vars||r).shadows[6]})),(0,i.Z)(t,"&.".concat(g.disabled),(0,a.Z)({color:(r.vars||r).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((r.vars||r).palette.action.disabledBackground)},"contained"===o.variant&&{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main,border:r.vars?"1px solid rgba(".concat(r.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,c.Fq)(r.palette[o.color].main,.5))},"contained"===o.variant&&{color:r.vars?r.vars.palette.text.primary:null==(n=(l=r.palette).getContrastText)?void 0:n.call(l,r.palette.grey[300]),backgroundColor:r.vars?r.vars.palette.Button.inheritContainedBg:s,boxShadow:(r.vars||r).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].contrastText,backgroundColor:(r.vars||r).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,i.Z)(t,"&.".concat(g.focusVisible),{boxShadow:"none"}),(0,i.Z)(t,"&:active",{boxShadow:"none"}),(0,i.Z)(t,"&.".concat(g.disabled),{boxShadow:"none"}),t)})),S=(0,u.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,h.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},N(t))})),_=(0,u.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,h.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},N(t))})),E=r.forwardRef((function(e,t){var n=r.useContext(b),i=r.useContext(y),c=(0,s.Z)(n,e),u=(0,v.Z)({props:c,name:"MuiButton"}),m=u.children,x=u.color,p=void 0===x?"primary":x,g=u.component,N=void 0===g?"button":g,E=u.className,T=u.disabled,I=void 0!==T&&T,M=u.disableElevation,k=void 0!==M&&M,C=u.disableFocusRipple,A=void 0!==C&&C,D=u.endIcon,O=u.focusVisibleClassName,P=u.fullWidth,R=void 0!==P&&P,G=u.size,z=void 0===G?"medium":G,L=u.startIcon,W=u.type,F=u.variant,q=void 0===F?"text":F,U=(0,l.Z)(u,Z),V=(0,a.Z)({},u,{color:p,component:N,disabled:I,disableElevation:k,disableFocusRipple:A,fullWidth:R,size:z,type:W,variant:q}),B=function(e){var t=e.color,n=e.disableElevation,i=e.fullWidth,l=e.size,r=e.variant,o=e.classes,s={root:["root",r,"".concat(r).concat((0,h.Z)(t)),"size".concat((0,h.Z)(l)),"".concat(r,"Size").concat((0,h.Z)(l)),"inherit"===t&&"colorInherit",n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,h.Z)(l))],endIcon:["endIcon","iconSize".concat((0,h.Z)(l))]},c=(0,d.Z)(s,f,o);return(0,a.Z)({},o,c)}(V),H=L&&(0,j.jsx)(S,{className:B.startIcon,ownerState:V,children:L}),K=D&&(0,j.jsx)(_,{className:B.endIcon,ownerState:V,children:D}),Q=i||"";return(0,j.jsxs)(w,(0,a.Z)({ownerState:V,className:(0,o.Z)(n.className,B.root,E,Q),component:N,disabled:I,focusRipple:!A,focusVisibleClassName:(0,o.Z)(B.focusVisible,O),ref:t,type:W},U,{classes:B,children:[H,m,K]}))}))}}]);